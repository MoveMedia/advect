{"version":3,"file":"advect.js","sources":["../src/utils.ts","../src/settings.ts","../src/plugins.ts","../node_modules/snarkdown/dist/snarkdown.es.js","../node_modules/style-vendorizer/dist/esm/bundle.min.mjs","../node_modules/twind/twind.js","../node_modules/squirrelly/dist/squirrelly.es.js","../src/plugins/advectcore.plugin.ts","../src/AdvMutationEvent.ts","../node_modules/zustand/esm/vanilla.mjs","../src/AdvectBase.ts","../src/AdvectElement.ts","../src/AdvectView.ts","../src/debug.ts","../src/advect.ts"],"sourcesContent":["import { AdvectView } from \"./AdvectView\";\r\n\r\n\r\n\r\n/**\r\n * Reference to the window object without type checking\r\n */\r\nexport const $window = (window as (Record<string, any> & Window & {\r\n    adv_settings?: Record<string, any>;\r\n}));\r\n\r\n/**\r\n * Creates a module from a string and imports it as a module returing the module\r\n * @param script script to convert to a module\r\n * @param inject lines to add to the script before parseing\r\n * @returns promise the module\r\n * @warning this function is NOT safe as it allows arbitrary code to be executed with module scope\r\n * please for the love of which ever creator you believe in set a CSP policy!\r\n */\r\nexport function toModule(script:string, inject:string[] = []) {\r\n    const encoded_uri = 'data:text/javascript;charset=utf-8,' +\r\n        inject.join('\\n')\r\n        + encodeURIComponent(`${script}`);\r\n    return import( /* @vite-ignore */ encoded_uri)\r\n        .then(module => module)\r\n        .catch(err => { console.error(err); return null });\r\n}\r\n\r\n$window.scriptFromUrl = scriptFromUrl;\r\nexport function scriptFromUrl(url:string, type:string = \"text/javascript\", add = true, onLoad?: (event:Event) =>void) {\r\n    const script = document.createElement('script');\r\n    script.src = url;\r\n    script.type = type;\r\n    if (add) document.head.appendChild(script);\r\n    if (onLoad) script.onload = onLoad;\r\n    return script;\r\n}\r\n\r\n/**\r\n * Eh im not to dogmatic about havins scripts with exports and side effects\r\n */\r\n\r\n/**\r\n * Creates a style element from a string of css and appends it to the head\r\n * (NOT IN USE)\r\n * @param css css to append\r\n * @returns the style element\r\n */\r\nexport function toStyle(cssStr:string) {\r\n    const css = new CSSStyleSheet();\r\n    css.replaceSync(cssStr);\r\n    return css;\r\n}\r\n\r\n\r\nexport type AConstructor<T = {}> = new (...args: any[]) => T;  \r\n\r\n\r\n/**\r\n * Async function constructor\r\n */\r\nexport const AsyncFunction = Object.getPrototypeOf(async function () { }).constructor;\r\n\r\n\r\nexport type RenderDescriptor = {\r\n    template: string;\r\n    ctx?: Record<string, any>;\r\n    view?: AdvectView;\r\n    options?: Record<string, any>;\r\n}\r\nexport type AdvectRenderFunction = (desc:RenderDescriptor) => string;","import { AdvectPlugin } from \"./plugins\";\r\nimport { $window } from \"./utils\";\r\n\r\nexport type AdvectSettings = typeof defaultSettings;\r\nconst defaultSettings = {\r\n    default_shadow_mode: \"open\" as const,\r\n    // this tag is used to load additional scripts\r\n    script_tag_type: \"text/adv\" as const,\r\n    // this tag needs to be added to individual template elements to be compiled, not reqired for templates loaded with script_tag_type\r\n    load_tag_type: \"adv\" as const,\r\n    // this tag tells to engine to skip compiling the tag\r\n    adv_skip: \"adv-skip\" as const,\r\n     // list of tags that should not be send and onload event\r\n    refs_no_inital_load: [\"frame\", \"iframe\", \"img\", \"input[type='image']\", \"link\", \"script\", \"style\"] as const,\r\n    default_renderer: \"sqrl\" as const,\r\n    include_twind: true as const,\r\n    plugins: [] as AdvectPlugin[],\r\n\r\n} as const;\r\n\r\nconst settings = new Proxy(defaultSettings, {\r\n    get: (target:AdvectSettings & Record<string, any>, prop:string) => {\r\n        if (!$window.adv_settings){\r\n            return target[prop];\r\n        }\r\n        return $window.adv_settings?.[prop] ?? target[prop];\r\n    }\r\n});\r\n\r\nexport default settings;\r\n","import { AConstructor, AdvectRenderFunction } from \"./utils\";\r\nimport AdvectBase from \"./AdvectBase\";\r\n\r\nexport interface AdvectPlugin{\r\n\r\n    priorityOrAfter: number | string;\r\n    priority: number;\r\n\r\n    name: string;\r\n    /**\r\n     * \r\n     * @param existing the existing plugins\r\n     */\r\n    plugin_init?(existing:Map<string, AdvectPlugin>): void;\r\n\r\n    /**\r\n     * A new plugin has been discovered\r\n     * @param $new the new plugin that has been discovered\r\n     */\r\n    plugin_discovered?($new:AdvectPlugin): void;\r\n    /**\r\n     * A new template has been built\r\n     * @param template the Class that has been built\r\n     * @returns the modified template class\r\n     */\r\n    template_built?(template: AConstructor<any>): any;\r\n    /**\r\n     * A new template document has been loaded\r\n     * @param doc the document that has been loaded\r\n     * @returns the modified document\r\n     */\r\n    template_loaded?(doc:Document): Document;\r\n\r\n    /**\r\n     * An AdvectsBase has been connected\r\n     * @param el the AdvectBase that has been connected\r\n     * this can be custom elements or templates, or adv-views\r\n     */\r\n    component_connected?(el:AdvectBase): void;\r\n        /**\r\n     * An Advect Base has been disconnected\r\n     * @param el the AdvectBase that has been disconnected\r\n     * this can be custom elements or templates, or adv-views\r\n     */\r\n    component_disconnected?(el:HTMLElement): void;\r\n    \r\n    /**\r\n     * Called when a ref is hooked in the shadowDom\r\n     * @param template \r\n     */\r\n    ref_found?(ref:HTMLElement): void;\r\n\r\n\r\n    /**\r\n     * Only for adv-views this allows you to use a different template engine, or build your own\r\n     * the default is squirlly\r\n     * @param name the name to match the renderer attribute\r\n     * @param el the element to render\r\n     */\r\n    renderers?: Record<string, AdvectRenderFunction>\r\n\r\n    view_rendered?(el:AdvectBase): void;\r\n\r\n    component_mutated?(el:AdvectBase, mut:MutationRecord): void;\r\n    \r\n}\r\n\r\n\r\nexport class PluginSystem implements AdvectPlugin{\r\n    priorityOrAfter = 0; // formality\r\n    priority = 0; // formality\r\n    name = \"plugin_system\";// formality\r\n    plugins = new Map<string, AdvectPlugin>();\r\n    #last_plugin_length = 0;\r\n    #plugin_list: AdvectPlugin[] = [];\r\n    getRenderer(name:string):AdvectRenderFunction | undefined{ \r\n        return this.unfoldPlugins()\r\n            .map((plugin) => plugin.renderers)\r\n            .find( r => r && r[name])?.[name]\r\n    }\r\n\r\n    addPlugin( plugin: AdvectPlugin) {\r\n        if (!plugin.name) {\r\n            console.error(\"Plugin must have a name\");\r\n            return;\r\n        }\r\n        console.log(`Adding plugin ${plugin.name}`);\r\n        this.plugins.set(plugin.name, plugin);\r\n        this.plugin_discovered(plugin);\r\n    }\r\n    getPlugin(name: string) {\r\n        return this.plugins.get(name);\r\n    }\r\n\r\n    removePlugin(name: string) {\r\n        this.plugins.delete(name);\r\n    }\r\n\r\n    unfoldPlugins(){\r\n        if (this.#last_plugin_length === this.plugins.size) {\r\n            return this.#plugin_list;\r\n        }\r\n        for (const [name, plugin] of this.plugins.entries()) {\r\n            if (typeof plugin.priorityOrAfter === \"string\") {\r\n                const after = this.plugins.get(plugin.priorityOrAfter);\r\n                if (after) {\r\n                    plugin.priority = after.priority + 1;\r\n                } else {\r\n                    console.error(`Plugin ${name} depends on ${plugin.priorityOrAfter} which is not loaded`);\r\n                }\r\n            } else {\r\n                plugin.priority = plugin.priorityOrAfter;\r\n            }\r\n        }\r\n        this.#last_plugin_length = this.plugins.size;\r\n        this.#plugin_list = Array.from(this.plugins.values()).sort((a,b) => a.priority - b.priority);\r\n        return this.#plugin_list;\r\n    }\r\n\r\n\r\n    plugin_discovered($new:AdvectPlugin): void{\r\n        for (const plugin of this.unfoldPlugins()) {\r\n            if (plugin.plugin_discovered && plugin.name != $new.name) plugin.plugin_discovered($new);\r\n        }\r\n        if ($new.plugin_init) $new.plugin_init(this.plugins);\r\n    };\r\n\r\n    template_built(template: AConstructor<any>){\r\n        let lastResult = template;\r\n        for (const plugin of this.unfoldPlugins()) {\r\n            if (plugin.template_built) lastResult = plugin?.template_built(template);\r\n        }\r\n        return lastResult;\r\n    };\r\n\r\n    template_loaded(doc:Document){\r\n       const plugins = \r\n       this.unfoldPlugins()\r\n            .filter( p => p.template_loaded)\r\n        \r\n        let lastResult = doc;\r\n        for (const plugin of plugins) {\r\n            if (plugin.template_loaded) lastResult = plugin.template_loaded(lastResult);\r\n        }\r\n        return lastResult\r\n    };\r\n\r\n\r\n \r\n    component_connected(el:AdvectBase){\r\n        for (const plugin of this.unfoldPlugins()) {\r\n            if (plugin.component_connected) plugin.component_connected(el);\r\n        }\r\n    };\r\n\r\n    component_disconnected?(el:HTMLElement){\r\n        for (const plugin of this.unfoldPlugins()) {\r\n            if (plugin.component_disconnected) plugin.component_disconnected(el);\r\n        }\r\n    };\r\n    \r\n\r\n    view_rendered(el:AdvectBase){    \r\n        for (const plugin of this.unfoldPlugins()) {\r\n            if (plugin.view_rendered) plugin.view_rendered(el);\r\n        }\r\n    };\r\n\r\n    component_mutated(el: AdvectBase, mut:MutationRecord): void {\r\n        for (const plugin of this.unfoldPlugins()) {\r\n            if (plugin.component_mutated) plugin.component_mutated(el, mut);\r\n        }\r\n    }\r\n\r\n\r\n    ref_found?(ref:HTMLElement){\r\n        for (const plugin of this.unfoldPlugins()) {\r\n            if (plugin.ref_found) plugin.ref_found(ref);\r\n        }\r\n    };\r\n\r\n\r\n}","var e={\"\":[\"<em>\",\"</em>\"],_:[\"<strong>\",\"</strong>\"],\"*\":[\"<strong>\",\"</strong>\"],\"~\":[\"<s>\",\"</s>\"],\"\\n\":[\"<br />\"],\" \":[\"<br />\"],\"-\":[\"<hr />\"]};function n(e){return e.replace(RegExp(\"^\"+(e.match(/^(\\t| )+/)||\"\")[0],\"gm\"),\"\")}function r(e){return(e+\"\").replace(/\"/g,\"&quot;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}export default function t(a,c){var o,l,g,s,p,u=/((?:^|\\n+)(?:\\n---+|\\* \\*(?: \\*)+)\\n)|(?:^``` *(\\w*)\\n([\\s\\S]*?)\\n```$)|((?:(?:^|\\n+)(?:\\t|  {2,}).+)+\\n*)|((?:(?:^|\\n)([>*+-]|\\d+\\.)\\s+.*)+)|(?:!\\[([^\\]]*?)\\]\\(([^)]+?)\\))|(\\[)|(\\](?:\\(([^)]+?)\\))?)|(?:(?:^|\\n+)([^\\s].*)\\n(-{3,}|={3,})(?:\\n+|$))|(?:(?:^|\\n+)(#{1,6})\\s*(.+)(?:\\n+|$))|(?:`([^`].*?)`)|(  \\n\\n*|\\n{2,}|__|\\*\\*|[_*]|~~)/gm,m=[],h=\"\",i=c||{},d=0;function f(n){var r=e[n[1]||\"\"],t=m[m.length-1]==n;return r?r[1]?(t?m.pop():m.push(n),r[0|t]):r[0]:n}function $(){for(var e=\"\";m.length;)e+=f(m[m.length-1]);return e}for(a=a.replace(/^\\[(.+?)\\]:\\s*(.+)$/gm,function(e,n,r){return i[n.toLowerCase()]=r,\"\"}).replace(/^\\n+|\\n+$/g,\"\");g=u.exec(a);)l=a.substring(d,g.index),d=u.lastIndex,o=g[0],l.match(/[^\\\\](\\\\\\\\)*\\\\$/)||((p=g[3]||g[4])?o='<pre class=\"code '+(g[4]?\"poetry\":g[2].toLowerCase())+'\"><code'+(g[2]?' class=\"language-'+g[2].toLowerCase()+'\"':\"\")+\">\"+n(r(p).replace(/^\\n+|\\n+$/g,\"\"))+\"</code></pre>\":(p=g[6])?(p.match(/\\./)&&(g[5]=g[5].replace(/^\\d+/gm,\"\")),s=t(n(g[5].replace(/^\\s*[>*+.-]/gm,\"\"))),\">\"==p?p=\"blockquote\":(p=p.match(/\\./)?\"ol\":\"ul\",s=s.replace(/^(.*)(\\n|$)/gm,\"<li>$1</li>\")),o=\"<\"+p+\">\"+s+\"</\"+p+\">\"):g[8]?o='<img src=\"'+r(g[8])+'\" alt=\"'+r(g[7])+'\">':g[10]?(h=h.replace(\"<a>\",'<a href=\"'+r(g[11]||i[l.toLowerCase()])+'\">'),o=$()+\"</a>\"):g[9]?o=\"<a>\":g[12]||g[14]?o=\"<\"+(p=\"h\"+(g[14]?g[14].length:g[13]>\"=\"?1:2))+\">\"+t(g[12]||g[15],i)+\"</\"+p+\">\":g[16]?o=\"<code>\"+r(g[16])+\"</code>\":(g[17]||g[1])&&(o=f(g[17]||\"--\"))),h+=l,h+=o;return(h+a.substring(d)+$()).replace(/^\\n+|\\n+$/g,\"\")}\n//# sourceMappingURL=snarkdown.es.js.map\n","var i=new Map([[\"align-self\",\"-ms-grid-row-align\"],[\"color-adjust\",\"-webkit-print-color-adjust\"],[\"column-gap\",\"grid-column-gap\"],[\"forced-color-adjust\",\"-ms-high-contrast-adjust\"],[\"gap\",\"grid-gap\"],[\"grid-template-columns\",\"-ms-grid-columns\"],[\"grid-template-rows\",\"-ms-grid-rows\"],[\"justify-self\",\"-ms-grid-column-align\"],[\"margin-inline-end\",\"-webkit-margin-end\"],[\"margin-inline-start\",\"-webkit-margin-start\"],[\"mask-border\",\"-webkit-mask-box-image\"],[\"mask-border-outset\",\"-webkit-mask-box-image-outset\"],[\"mask-border-slice\",\"-webkit-mask-box-image-slice\"],[\"mask-border-source\",\"-webkit-mask-box-image-source\"],[\"mask-border-repeat\",\"-webkit-mask-box-image-repeat\"],[\"mask-border-width\",\"-webkit-mask-box-image-width\"],[\"overflow-wrap\",\"word-wrap\"],[\"padding-inline-end\",\"-webkit-padding-end\"],[\"padding-inline-start\",\"-webkit-padding-start\"],[\"print-color-adjust\",\"color-adjust\"],[\"row-gap\",\"grid-row-gap\"],[\"scroll-margin-bottom\",\"scroll-snap-margin-bottom\"],[\"scroll-margin-left\",\"scroll-snap-margin-left\"],[\"scroll-margin-right\",\"scroll-snap-margin-right\"],[\"scroll-margin-top\",\"scroll-snap-margin-top\"],[\"scroll-margin\",\"scroll-snap-margin\"],[\"text-combine-upright\",\"-ms-text-combine-horizontal\"]]);function r(r){return i.get(r)}function a(i){var r=/^(?:(text-(?:decoration$|e|or|si)|back(?:ground-cl|d|f)|box-d|mask(?:$|-[ispro]|-cl)|pr|hyphena|flex-d)|(tab-|column(?!-s)|text-align-l)|(ap)|u|hy)/i.exec(i);return r?r[1]?1:r[2]?2:r[3]?3:5:0}function t(i,r){var a=/^(?:(pos)|(cli)|(background-i)|(flex(?:$|-b)|(?:max-|min-)?(?:block-s|inl|he|widt))|dis)/i.exec(i);return a?a[1]?/^sti/i.test(r)?1:0:a[2]?/^pat/i.test(r)?1:0:a[3]?/^image-/i.test(r)?1:0:a[4]?\"-\"===r[3]?2:0:/^(?:inline-)?grid$/i.test(r)?4:0:0}export{r as cssPropertyAlias,a as cssPropertyPrefixFlags,t as cssValuePrefixFlags};\n//# sourceMappingURL=bundle.min.mjs.map\n","// src/internal/util.ts\nvar includes = (value, search) => !!~value.indexOf(search);\nvar join = (parts, separator = \"-\") => parts.join(separator);\nvar joinTruthy = (parts, separator) => join(parts.filter(Boolean), separator);\nvar tail = (array, startIndex = 1) => array.slice(startIndex);\nvar identity = (value) => value;\nvar noop = () => {\n};\nvar capitalize = (value) => value[0].toUpperCase() + tail(value);\nvar hyphenate = (value) => value.replace(/[A-Z]/g, \"-$&\").toLowerCase();\nvar evalThunk = (value, context) => {\n  while (typeof value == \"function\") {\n    value = value(context);\n  }\n  return value;\n};\nvar ensureMaxSize = (map, max) => {\n  if (map.size > max) {\n    map.delete(map.keys().next().value);\n  }\n};\nvar isCSSProperty = (key, value) => !includes(\"@:&\", key[0]) && (includes(\"rg\", (typeof value)[5]) || Array.isArray(value));\nvar merge = (target, source, context) => source ? Object.keys(source).reduce((target2, key) => {\n  const value = evalThunk(source[key], context);\n  if (isCSSProperty(key, value)) {\n    target2[hyphenate(key)] = value;\n  } else {\n    target2[key] = key[0] == \"@\" && includes(\"figa\", key[1]) ? (target2[key] || []).concat(value) : merge(target2[key] || {}, value, context);\n  }\n  return target2;\n}, target) : target;\nvar escape = typeof CSS !== \"undefined\" && CSS.escape || ((className) => className.replace(/[!\"'`*+.,;:\\\\/<=>?@#$%&^|~()[\\]{}]/g, \"\\\\$&\").replace(/^\\d/, \"\\\\3$& \"));\nvar buildMediaQuery = (screen) => {\n  if (!Array.isArray(screen)) {\n    screen = [screen];\n  }\n  return \"@media \" + join(screen.map((screen2) => {\n    if (typeof screen2 == \"string\") {\n      screen2 = {min: screen2};\n    }\n    return screen2.raw || join(Object.keys(screen2).map((feature) => `(${feature}-width:${screen2[feature]})`), \" and \");\n  }), \",\");\n};\nvar cyrb32 = (value) => {\n  for (var h = 9, index = value.length; index--; ) {\n    h = Math.imul(h ^ value.charCodeAt(index), 1597334677);\n  }\n  return \"tw-\" + ((h ^ h >>> 9) >>> 0).toString(36);\n};\nvar sortedInsertionIndex = (array, element) => {\n  for (var low = 0, high = array.length; low < high; ) {\n    const pivot = high + low >> 1;\n    if (array[pivot] <= element) {\n      low = pivot + 1;\n    } else {\n      high = pivot;\n    }\n  }\n  return high;\n};\n\n// src/twind/parse.ts\nvar groupings;\nvar rules;\nvar startGrouping = (value = \"\") => {\n  groupings.push(value);\n  return \"\";\n};\nvar endGrouping = (isWhitespace) => {\n  groupings.length = Math.max(groupings.lastIndexOf(\"\") + ~~isWhitespace, 0);\n};\nvar onlyPrefixes = (s) => s && !includes(\"!:\", s[0]);\nvar onlyVariants = (s) => s[0] == \":\";\nvar addRule = (directive2, negate) => {\n  rules.push({\n    v: groupings.filter(onlyVariants),\n    d: directive2,\n    n: negate,\n    i: includes(groupings, \"!\"),\n    $: \"\"\n  });\n};\nvar saveRule = (buffer) => {\n  const negate = buffer[0] == \"-\";\n  if (negate) {\n    buffer = tail(buffer);\n  }\n  const prefix = join(groupings.filter(onlyPrefixes));\n  addRule(buffer == \"&\" ? prefix : (prefix && prefix + \"-\") + buffer, negate);\n  return \"\";\n};\nvar parseString = (token, isVariant) => {\n  let buffer = \"\";\n  for (let char, dynamic = false, position2 = 0; char = token[position2++]; ) {\n    if (dynamic || char == \"[\") {\n      buffer += char;\n      dynamic = char != \"]\";\n      continue;\n    }\n    switch (char) {\n      case \":\":\n        buffer = buffer && startGrouping(\":\" + (token[position2] == char ? token[position2++] : \"\") + buffer);\n        break;\n      case \"(\":\n        buffer = buffer && startGrouping(buffer);\n        startGrouping();\n        break;\n      case \"!\":\n        startGrouping(char);\n        break;\n      case \")\":\n      case \" \":\n      case \"\t\":\n      case \"\\n\":\n      case \"\\r\":\n        buffer = buffer && saveRule(buffer);\n        endGrouping(char !== \")\");\n        break;\n      default:\n        buffer += char;\n    }\n  }\n  if (buffer) {\n    if (isVariant) {\n      startGrouping(\":\" + buffer);\n    } else if (buffer.slice(-1) == \"-\") {\n      startGrouping(buffer.slice(0, -1));\n    } else {\n      saveRule(buffer);\n    }\n  }\n};\nvar parseGroupedToken = (token) => {\n  startGrouping();\n  parseToken(token);\n  endGrouping();\n};\nvar parseGroup = (key, token) => {\n  if (token) {\n    startGrouping();\n    const isVariant = includes(\"tbu\", (typeof token)[1]);\n    parseString(key, isVariant);\n    if (isVariant) {\n      parseGroupedToken(token);\n    }\n    endGrouping();\n  }\n};\nvar parseToken = (token) => {\n  switch (typeof token) {\n    case \"string\":\n      parseString(token);\n      break;\n    case \"function\":\n      addRule(token);\n      break;\n    case \"object\":\n      if (Array.isArray(token)) {\n        token.forEach(parseGroupedToken);\n      } else if (token) {\n        Object.keys(token).forEach((key) => {\n          parseGroup(key, token[key]);\n        });\n      }\n  }\n};\nvar staticsCaches = new WeakMap();\nvar buildStatics = (strings) => {\n  let statics = staticsCaches.get(strings);\n  if (!statics) {\n    let slowModeIndex = NaN;\n    let buffer = \"\";\n    statics = strings.map((token, index) => {\n      if (slowModeIndex !== slowModeIndex && (token.slice(-1) == \"[\" || includes(\":-(\", (strings[index + 1] || \"\")[0]))) {\n        slowModeIndex = index;\n      }\n      if (index >= slowModeIndex) {\n        return (interpolation) => {\n          if (index == slowModeIndex) {\n            buffer = \"\";\n          }\n          buffer += token;\n          if (includes(\"rg\", (typeof interpolation)[5])) {\n            buffer += interpolation;\n          } else if (interpolation) {\n            parseString(buffer);\n            buffer = \"\";\n            parseToken(interpolation);\n          }\n          if (index == strings.length - 1) {\n            parseString(buffer);\n          }\n        };\n      }\n      const staticRules = rules = [];\n      parseString(token);\n      const activeGroupings = [...groupings];\n      rules = [];\n      return (interpolation) => {\n        rules.push(...staticRules);\n        groupings = [...activeGroupings];\n        if (interpolation) {\n          parseToken(interpolation);\n        }\n      };\n    });\n    staticsCaches.set(strings, statics);\n  }\n  return statics;\n};\nvar parse = (tokens) => {\n  groupings = [];\n  rules = [];\n  if (Array.isArray(tokens[0]) && Array.isArray(tokens[0].raw)) {\n    buildStatics(tokens[0]).forEach((apply2, index) => apply2(tokens[index + 1]));\n  } else {\n    parseToken(tokens);\n  }\n  return rules;\n};\n\n// src/twind/directive.ts\nvar isFunctionFree;\nvar detectFunction = (key, value) => {\n  if (typeof value == \"function\") {\n    isFunctionFree = false;\n  }\n  return value;\n};\nvar stringify = (data) => {\n  isFunctionFree = true;\n  const key = JSON.stringify(data, detectFunction);\n  return isFunctionFree && key;\n};\nvar cacheByFactory = new WeakMap();\nvar directive = (factory, data) => {\n  const key = stringify(data);\n  let directive2;\n  if (key) {\n    var cache = cacheByFactory.get(factory);\n    if (!cache) {\n      cacheByFactory.set(factory, cache = new Map());\n    }\n    directive2 = cache.get(key);\n  }\n  if (!directive2) {\n    directive2 = Object.defineProperty((params, context) => {\n      context = Array.isArray(params) ? context : params;\n      return evalThunk(factory(data, context), context);\n    }, \"toJSON\", {\n      value: () => key || data\n    });\n    if (cache) {\n      cache.set(key, directive2);\n      ensureMaxSize(cache, 1e4);\n    }\n  }\n  return directive2;\n};\n\n// src/twind/apply.ts\nvar applyFactory = (tokens, {css}) => css(parse(tokens));\nvar apply = (...tokens) => directive(applyFactory, tokens);\n\n// src/twind/helpers.ts\nvar positions = (resolve) => (value, position2, prefix, suffix) => {\n  if (value) {\n    const properties = position2 && resolve(position2);\n    if (properties && properties.length > 0) {\n      return properties.reduce((declarations, property2) => {\n        declarations[joinTruthy([prefix, property2, suffix])] = value;\n        return declarations;\n      }, {});\n    }\n  }\n};\nvar corners = /* @__PURE__ */ positions((key) => ({\n  t: [\"top-left\", \"top-right\"],\n  r: [\"top-right\", \"bottom-right\"],\n  b: [\"bottom-left\", \"bottom-right\"],\n  l: [\"bottom-left\", \"top-left\"],\n  tl: [\"top-left\"],\n  tr: [\"top-right\"],\n  bl: [\"bottom-left\"],\n  br: [\"bottom-right\"]\n})[key]);\nvar expandEdges = (key) => {\n  const parts = ({x: \"lr\", y: \"tb\"}[key] || key || \"\").split(\"\").sort();\n  for (let index = parts.length; index--; ) {\n    if (!(parts[index] = {\n      t: \"top\",\n      r: \"right\",\n      b: \"bottom\",\n      l: \"left\"\n    }[parts[index]]))\n      return;\n  }\n  if (parts.length)\n    return parts;\n};\nvar edges = /* @__PURE__ */ positions(expandEdges);\nvar stringifyVariant = (selector, variant) => selector + (variant[1] == \":\" ? tail(variant, 2) + \":\" : tail(variant)) + \":\";\nvar stringifyRule = (rule, directive2 = rule.d) => typeof directive2 == \"function\" ? \"\" : rule.v.reduce(stringifyVariant, \"\") + (rule.i ? \"!\" : \"\") + (rule.n ? \"-\" : \"\") + directive2;\n\n// src/twind/plugins.ts\nvar _;\nvar __;\nvar $;\nvar toColumnsOrRows = (x) => x == \"cols\" ? \"columns\" : \"rows\";\nvar property = (property2) => (params, context, id) => ({\n  [property2]: id + ((_ = join(params)) && \"-\" + _)\n});\nvar propertyValue = (property2, separator) => (params, context, id) => (_ = join(params, separator)) && {\n  [property2 || id]: _\n};\nvar themeProperty = (section) => (params, {theme: theme2}, id) => (_ = theme2(section || id, params)) && {\n  [section || id]: _\n};\nvar themePropertyFallback = (section, separator) => (params, {theme: theme2}, id) => (_ = theme2(section || id, params, join(params, separator))) && {\n  [section || id]: _\n};\nvar alias = (handler, name) => (params, context) => handler(params, context, name);\nvar display = property(\"display\");\nvar position = property(\"position\");\nvar textTransform = property(\"textTransform\");\nvar textDecoration = property(\"textDecoration\");\nvar fontStyle = property(\"fontStyle\");\nvar fontVariantNumeric = (key) => (params, context, id) => ({\n  [\"--tw-\" + key]: id,\n  fontVariantNumeric: \"var(--tw-ordinal,/*!*/ /*!*/) var(--tw-slashed-zero,/*!*/ /*!*/) var(--tw-numeric-figure,/*!*/ /*!*/) var(--tw-numeric-spacing,/*!*/ /*!*/) var(--tw-numeric-fraction,/*!*/ /*!*/)\"\n});\nvar inset = (params, {theme: theme2}, id) => (_ = theme2(\"inset\", params)) && {[id]: _};\nvar opacityProperty = (params, theme2, id, section = id) => (_ = theme2(section + \"Opacity\", tail(params))) && {\n  [`--tw-${id}-opacity`]: _\n};\nvar parseColorComponent = (chars, factor) => Math.round(parseInt(chars, 16) * factor);\nvar asRGBA = (color, opacityProperty2, opacityDefault) => {\n  if (color && color[0] == \"#\" && (_ = (color.length - 1) / 3) && ($ = [17, 1, 0.062272][_ - 1])) {\n    return `rgba(${parseColorComponent(color.substr(1, _), $)},${parseColorComponent(color.substr(1 + _, _), $)},${parseColorComponent(color.substr(1 + 2 * _, _), $)},${opacityProperty2 ? `var(--tw-${opacityProperty2}${opacityDefault ? \",\" + opacityDefault : \"\"})` : opacityDefault || 1})`;\n  }\n  return color;\n};\nvar withOpacityFallback = (property2, kind, color) => color && typeof color == \"string\" ? (_ = asRGBA(color, kind + \"-opacity\")) && _ !== color ? {\n  [`--tw-${kind}-opacity`]: \"1\",\n  [property2]: [color, _]\n} : {[property2]: color} : void 0;\nvar transparentTo = (color) => ($ = asRGBA(color, \"\", \"0\")) == _ ? \"transparent\" : $;\nvar reversableEdge = (params, {theme: theme2}, id, section, prefix, suffix) => (_ = {x: [\"right\", \"left\"], y: [\"bottom\", \"top\"]}[params[0]]) && ($ = `--tw-${id}-${params[0]}-reverse`) ? params[1] == \"reverse\" ? {\n  [$]: \"1\"\n} : {\n  [$]: \"0\",\n  [joinTruthy([prefix, _[0], suffix])]: (__ = theme2(section, tail(params))) && `calc(${__} * var(${$}))`,\n  [joinTruthy([prefix, _[1], suffix])]: __ && [__, `calc(${__} * calc(1 - var(${$})))`]\n} : void 0;\nvar placeHelper = (property2, params) => params[0] && {\n  [property2]: (includes(\"wun\", (params[0] || \"\")[3]) ? \"space-\" : \"\") + params[0]\n};\nvar contentPluginFor = (property2) => (params) => includes([\"start\", \"end\"], params[0]) ? {[property2]: \"flex-\" + params[0]} : placeHelper(property2, params);\nvar gridPlugin = (kind) => (params, {theme: theme2}) => {\n  if (_ = theme2(\"grid\" + capitalize(kind), params, \"\")) {\n    return {[\"grid-\" + kind]: _};\n  }\n  switch (params[0]) {\n    case \"span\":\n      return params[1] && {\n        [\"grid-\" + kind]: `span ${params[1]} / span ${params[1]}`\n      };\n    case \"start\":\n    case \"end\":\n      return (_ = theme2(\"grid\" + capitalize(kind) + capitalize(params[0]), tail(params), join(tail(params)))) && {\n        [`grid-${kind}-${params[0]}`]: _\n      };\n  }\n};\nvar border = (params, {theme: theme2}, id) => {\n  switch (params[0]) {\n    case \"solid\":\n    case \"dashed\":\n    case \"dotted\":\n    case \"double\":\n    case \"none\":\n      return propertyValue(\"borderStyle\")(params);\n    case \"collapse\":\n    case \"separate\":\n      return propertyValue(\"borderCollapse\")(params);\n    case \"opacity\":\n      return opacityProperty(params, theme2, id);\n  }\n  return (_ = theme2(id + \"Width\", params, \"\")) ? {borderWidth: _} : withOpacityFallback(\"borderColor\", id, theme2(id + \"Color\", params));\n};\nvar borderEdges = (params, context, id) => {\n  var _a;\n  const edges2 = (_a = expandEdges(params[0])) == null ? void 0 : _a.map(capitalize);\n  if (edges2) {\n    params = tail(params);\n  }\n  let rules2 = border(params, context, id);\n  if (edges2 && rules2 && typeof rules2 === \"object\") {\n    rules2 = Object.entries(rules2).reduce((newRules, [key, value]) => {\n      if (key.startsWith(\"border\")) {\n        for (const edge of edges2) {\n          newRules[key.slice(0, 6) + edge + key.slice(6)] = value;\n        }\n      } else {\n        newRules[key] = value;\n      }\n      return newRules;\n    }, {});\n  }\n  return rules2;\n};\nvar transform = (gpu) => (gpu ? \"translate3d(var(--tw-translate-x,0),var(--tw-translate-y,0),0)\" : \"translateX(var(--tw-translate-x,0)) translateY(var(--tw-translate-y,0))\") + \" rotate(var(--tw-rotate,0)) skewX(var(--tw-skew-x,0)) skewY(var(--tw-skew-y,0)) scaleX(var(--tw-scale-x,1)) scaleY(var(--tw-scale-y,1))\";\nvar transformXYFunction = (params, context, id) => params[0] && (_ = context.theme(id, params[1] || params[0])) && {\n  [`--tw-${id}-x`]: params[0] !== \"y\" && _,\n  [`--tw-${id}-y`]: params[0] !== \"x\" && _,\n  transform: [`${id}${params[1] ? params[0].toUpperCase() : \"\"}(${_})`, transform()]\n};\nvar edgesPluginFor = (key) => (params, context, id) => id[1] ? edges(context.theme(key, params), id[1], key) : themeProperty(key)(params, context, id);\nvar padding = edgesPluginFor(\"padding\");\nvar margin = edgesPluginFor(\"margin\");\nvar minMax = (params, {theme: theme2}, id) => (_ = {w: \"width\", h: \"height\"}[params[0]]) && {\n  [_ = `${id}${capitalize(_)}`]: theme2(_, tail(params))\n};\nvar filter = (params, {theme: theme2}, id) => {\n  const parts = id.split(\"-\");\n  const prefix = parts[0] == \"backdrop\" ? parts[0] + \"-\" : \"\";\n  if (!prefix) {\n    params.unshift(...parts);\n  }\n  if (params[0] == \"filter\") {\n    const filters = [\n      \"blur\",\n      \"brightness\",\n      \"contrast\",\n      \"grayscale\",\n      \"hue-rotate\",\n      \"invert\",\n      prefix && \"opacity\",\n      \"saturate\",\n      \"sepia\",\n      !prefix && \"drop-shadow\"\n    ].filter(Boolean);\n    return params[1] == \"none\" ? {[prefix + \"filter\"]: \"none\"} : filters.reduce((css, key) => {\n      css[\"--tw-\" + prefix + key] = \"var(--tw-empty,/*!*/ /*!*/)\";\n      return css;\n    }, {\n      [prefix + \"filter\"]: filters.map((key) => `var(--tw-${prefix}${key})`).join(\" \")\n    });\n  }\n  $ = params.shift();\n  if (includes([\"hue\", \"drop\"], $))\n    $ += capitalize(params.shift());\n  return (_ = theme2(prefix ? \"backdrop\" + capitalize($) : $, params)) && {\n    [\"--tw-\" + prefix + $]: (Array.isArray(_) ? _ : [_]).map((_4) => `${hyphenate($)}(${_4})`).join(\" \")\n  };\n};\nvar corePlugins = {\n  group: (params, {tag}, id) => tag(join([id, ...params])),\n  hidden: alias(display, \"none\"),\n  inline: display,\n  block: display,\n  contents: display,\n  flow: display,\n  table: (params, context, id) => includes([\"auto\", \"fixed\"], params[0]) ? {tableLayout: params[0]} : display(params, context, id),\n  flex(params, context, id) {\n    switch (params[0]) {\n      case \"row\":\n      case \"col\":\n        return {\n          flexDirection: join(params[0] == \"col\" ? [\"column\", ...tail(params)] : params)\n        };\n      case \"nowrap\":\n      case \"wrap\":\n        return {flexWrap: join(params)};\n      case \"grow\":\n      case \"shrink\":\n        _ = context.theme(\"flex\" + capitalize(params[0]), tail(params), params[1] || 1);\n        return _ != null && {\n          [\"flex-\" + params[0]]: \"\" + _\n        };\n    }\n    return (_ = context.theme(\"flex\", params, \"\")) ? {flex: _} : display(params, context, id);\n  },\n  grid(params, context, id) {\n    switch (params[0]) {\n      case \"cols\":\n      case \"rows\":\n        return (_ = context.theme(\"gridTemplate\" + capitalize(toColumnsOrRows(params[0])), tail(params), params.length == 2 && Number(params[1]) ? `repeat(${params[1]},minmax(0,1fr))` : join(tail(params)))) && {\n          [\"gridTemplate-\" + toColumnsOrRows(params[0])]: _\n        };\n      case \"flow\":\n        return params.length > 1 && {\n          gridAutoFlow: join(params[1] == \"col\" ? [\"column\", ...tail(params, 2)] : tail(params), \" \")\n        };\n    }\n    return display(params, context, id);\n  },\n  auto: (params, {theme: theme2}) => includes([\"cols\", \"rows\"], params[0]) && (_ = theme2(\"gridAuto\" + capitalize(toColumnsOrRows(params[0])), tail(params), join(tail(params)))) && {\n    [\"gridAuto-\" + toColumnsOrRows(params[0])]: _\n  },\n  static: position,\n  fixed: position,\n  absolute: position,\n  relative: position,\n  sticky: position,\n  visible: {visibility: \"visible\"},\n  invisible: {visibility: \"hidden\"},\n  antialiased: {\n    WebkitFontSmoothing: \"antialiased\",\n    MozOsxFontSmoothing: \"grayscale\"\n  },\n  \"subpixel-antialiased\": {\n    WebkitFontSmoothing: \"auto\",\n    MozOsxFontSmoothing: \"auto\"\n  },\n  truncate: {\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\"\n  },\n  \"sr-only\": {\n    position: \"absolute\",\n    width: \"1px\",\n    height: \"1px\",\n    padding: \"0\",\n    margin: \"-1px\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    clip: \"rect(0,0,0,0)\",\n    borderWidth: \"0\"\n  },\n  \"not-sr-only\": {\n    position: \"static\",\n    width: \"auto\",\n    height: \"auto\",\n    padding: \"0\",\n    margin: \"0\",\n    overflow: \"visible\",\n    whiteSpace: \"normal\",\n    clip: \"auto\"\n  },\n  resize: (params) => ({\n    resize: {x: \"horizontal\", y: \"vertical\"}[params[0]] || params[0] || \"both\"\n  }),\n  box: (params) => params[0] && {boxSizing: params[0] + \"-box\"},\n  appearance: propertyValue(),\n  cursor: themePropertyFallback(),\n  float: propertyValue(),\n  clear: propertyValue(),\n  decoration: propertyValue(\"boxDecorationBreak\"),\n  isolate: {isolation: \"isolate\"},\n  isolation: propertyValue(),\n  \"mix-blend\": propertyValue(\"mixBlendMode\"),\n  top: inset,\n  right: inset,\n  bottom: inset,\n  left: inset,\n  inset: (params, {theme: theme2}) => (_ = expandEdges(params[0])) ? edges(theme2(\"inset\", tail(params)), params[0]) : (_ = theme2(\"inset\", params)) && {\n    top: _,\n    right: _,\n    bottom: _,\n    left: _\n  },\n  underline: textDecoration,\n  \"line-through\": textDecoration,\n  \"no-underline\": alias(textDecoration, \"none\"),\n  \"text-underline\": alias(textDecoration, \"underline\"),\n  \"text-no-underline\": alias(textDecoration, \"none\"),\n  \"text-line-through\": alias(textDecoration, \"line-through\"),\n  uppercase: textTransform,\n  lowercase: textTransform,\n  capitalize: textTransform,\n  \"normal-case\": alias(textTransform, \"none\"),\n  \"text-normal-case\": alias(textTransform, \"none\"),\n  italic: fontStyle,\n  \"not-italic\": alias(fontStyle, \"normal\"),\n  \"font-italic\": alias(fontStyle, \"italic\"),\n  \"font-not-italic\": alias(fontStyle, \"normal\"),\n  font: (params, context, id) => (_ = context.theme(\"fontFamily\", params, \"\")) ? {fontFamily: _} : themeProperty(\"fontWeight\")(params, context, id),\n  items: (params) => params[0] && {\n    alignItems: includes([\"start\", \"end\"], params[0]) ? \"flex-\" + params[0] : join(params)\n  },\n  \"justify-self\": propertyValue(),\n  \"justify-items\": propertyValue(),\n  justify: contentPluginFor(\"justifyContent\"),\n  content: contentPluginFor(\"alignContent\"),\n  self: contentPluginFor(\"alignSelf\"),\n  place: (params) => params[0] && placeHelper(\"place-\" + params[0], tail(params)),\n  overscroll: (params) => params[0] && {\n    [\"overscrollBehavior\" + (params[1] ? \"-\" + params[0] : \"\")]: params[1] || params[0]\n  },\n  col: gridPlugin(\"column\"),\n  row: gridPlugin(\"row\"),\n  duration: themeProperty(\"transitionDuration\"),\n  delay: themeProperty(\"transitionDelay\"),\n  tracking: themeProperty(\"letterSpacing\"),\n  leading: themeProperty(\"lineHeight\"),\n  z: themeProperty(\"zIndex\"),\n  opacity: themeProperty(),\n  ease: themeProperty(\"transitionTimingFunction\"),\n  p: padding,\n  py: padding,\n  px: padding,\n  pt: padding,\n  pr: padding,\n  pb: padding,\n  pl: padding,\n  m: margin,\n  my: margin,\n  mx: margin,\n  mt: margin,\n  mr: margin,\n  mb: margin,\n  ml: margin,\n  w: themeProperty(\"width\"),\n  h: themeProperty(\"height\"),\n  min: minMax,\n  max: minMax,\n  fill: themeProperty(),\n  order: themeProperty(),\n  origin: themePropertyFallback(\"transformOrigin\", \" \"),\n  select: propertyValue(\"userSelect\"),\n  \"pointer-events\": propertyValue(),\n  align: propertyValue(\"verticalAlign\"),\n  whitespace: propertyValue(\"whiteSpace\"),\n  \"normal-nums\": {fontVariantNumeric: \"normal\"},\n  ordinal: fontVariantNumeric(\"ordinal\"),\n  \"slashed-zero\": fontVariantNumeric(\"slashed-zero\"),\n  \"lining-nums\": fontVariantNumeric(\"numeric-figure\"),\n  \"oldstyle-nums\": fontVariantNumeric(\"numeric-figure\"),\n  \"proportional-nums\": fontVariantNumeric(\"numeric-spacing\"),\n  \"tabular-nums\": fontVariantNumeric(\"numeric-spacing\"),\n  \"diagonal-fractions\": fontVariantNumeric(\"numeric-fraction\"),\n  \"stacked-fractions\": fontVariantNumeric(\"numeric-fraction\"),\n  overflow: (params, context, id) => includes([\"ellipsis\", \"clip\"], params[0]) ? propertyValue(\"textOverflow\")(params) : params[1] ? {[\"overflow-\" + params[0]]: params[1]} : propertyValue()(params, context, id),\n  transform: (params) => params[0] == \"none\" ? {transform: \"none\"} : {\n    \"--tw-translate-x\": \"0\",\n    \"--tw-translate-y\": \"0\",\n    \"--tw-rotate\": \"0\",\n    \"--tw-skew-x\": \"0\",\n    \"--tw-skew-y\": \"0\",\n    \"--tw-scale-x\": \"1\",\n    \"--tw-scale-y\": \"1\",\n    transform: transform(params[0] == \"gpu\")\n  },\n  rotate: (params, {theme: theme2}) => (_ = theme2(\"rotate\", params)) && {\n    \"--tw-rotate\": _,\n    transform: [`rotate(${_})`, transform()]\n  },\n  scale: transformXYFunction,\n  translate: transformXYFunction,\n  skew: transformXYFunction,\n  gap: (params, context, id) => (_ = {x: \"column\", y: \"row\"}[params[0]]) ? {[_ + \"Gap\"]: context.theme(\"gap\", tail(params))} : themeProperty(\"gap\")(params, context, id),\n  stroke: (params, context, id) => (_ = context.theme(\"stroke\", params, \"\")) ? {stroke: _} : themeProperty(\"strokeWidth\")(params, context, id),\n  outline: (params, {theme: theme2}) => (_ = theme2(\"outline\", params)) && {\n    outline: _[0],\n    outlineOffset: _[1]\n  },\n  \"break-normal\": {\n    wordBreak: \"normal\",\n    overflowWrap: \"normal\"\n  },\n  \"break-words\": {overflowWrap: \"break-word\"},\n  \"break-all\": {wordBreak: \"break-all\"},\n  text(params, {theme: theme2}, id) {\n    switch (params[0]) {\n      case \"left\":\n      case \"center\":\n      case \"right\":\n      case \"justify\":\n        return {textAlign: params[0]};\n      case \"uppercase\":\n      case \"lowercase\":\n      case \"capitalize\":\n        return textTransform([], _, params[0]);\n      case \"opacity\":\n        return opacityProperty(params, theme2, id);\n    }\n    const fontSize = theme2(\"fontSize\", params, \"\");\n    if (fontSize) {\n      return typeof fontSize == \"string\" ? {fontSize} : {\n        fontSize: fontSize[0],\n        ...typeof fontSize[1] == \"string\" ? {lineHeight: fontSize[1]} : fontSize[1]\n      };\n    }\n    return withOpacityFallback(\"color\", \"text\", theme2(\"textColor\", params));\n  },\n  bg(params, {theme: theme2}, id) {\n    switch (params[0]) {\n      case \"fixed\":\n      case \"local\":\n      case \"scroll\":\n        return propertyValue(\"backgroundAttachment\", \",\")(params);\n      case \"bottom\":\n      case \"center\":\n      case \"left\":\n      case \"right\":\n      case \"top\":\n        return propertyValue(\"backgroundPosition\", \" \")(params);\n      case \"no\":\n        return params[1] == \"repeat\" && propertyValue(\"backgroundRepeat\")(params);\n      case \"repeat\":\n        return includes(\"xy\", params[1]) ? propertyValue(\"backgroundRepeat\")(params) : {backgroundRepeat: params[1] || params[0]};\n      case \"opacity\":\n        return opacityProperty(params, theme2, id, \"background\");\n      case \"clip\":\n      case \"origin\":\n        return params[1] && {\n          [\"background-\" + params[0]]: params[1] + (params[1] == \"text\" ? \"\" : \"-box\")\n        };\n      case \"blend\":\n        return propertyValue(\"background-blend-mode\")(tail(params));\n      case \"gradient\":\n        if (params[1] == \"to\" && (_ = expandEdges(params[2]))) {\n          return {\n            backgroundImage: `linear-gradient(to ${join(_, \" \")},var(--tw-gradient-stops))`\n          };\n        }\n    }\n    return (_ = theme2(\"backgroundPosition\", params, \"\")) ? {backgroundPosition: _} : (_ = theme2(\"backgroundSize\", params, \"\")) ? {backgroundSize: _} : (_ = theme2(\"backgroundImage\", params, \"\")) ? {backgroundImage: _} : withOpacityFallback(\"backgroundColor\", \"bg\", theme2(\"backgroundColor\", params));\n  },\n  from: (params, {theme: theme2}) => (_ = theme2(\"gradientColorStops\", params)) && {\n    \"--tw-gradient-from\": _,\n    \"--tw-gradient-stops\": `var(--tw-gradient-from),var(--tw-gradient-to,${transparentTo(_)})`\n  },\n  via: (params, {theme: theme2}) => (_ = theme2(\"gradientColorStops\", params)) && {\n    \"--tw-gradient-stops\": `var(--tw-gradient-from),${_},var(--tw-gradient-to,${transparentTo(_)})`\n  },\n  to: (params, {theme: theme2}) => (_ = theme2(\"gradientColorStops\", params)) && {\n    \"--tw-gradient-to\": _\n  },\n  border: borderEdges,\n  divide: (params, context, id) => (_ = reversableEdge(params, context, id, \"divideWidth\", \"border\", \"width\") || border(params, context, id)) && {\n    \"&>:not([hidden])~:not([hidden])\": _\n  },\n  space: (params, context, id) => (_ = reversableEdge(params, context, id, \"space\", \"margin\")) && {\n    \"&>:not([hidden])~:not([hidden])\": _\n  },\n  placeholder: (params, {theme: theme2}, id) => (_ = params[0] == \"opacity\" ? opacityProperty(params, theme2, id) : withOpacityFallback(\"color\", \"placeholder\", theme2(\"placeholderColor\", params))) && {\n    \"&::placeholder\": _\n  },\n  shadow: (params, {theme: theme2}) => (_ = theme2(\"boxShadow\", params)) && {\n    \":global\": {\n      \"*\": {\n        \"--tw-shadow\": \"0 0 transparent\"\n      }\n    },\n    \"--tw-shadow\": _ == \"none\" ? \"0 0 transparent\" : _,\n    boxShadow: [\n      _,\n      `var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)`\n    ]\n  },\n  animate: (params, {theme: theme2, tag}) => {\n    if ($ = theme2(\"animation\", params)) {\n      const parts = $.split(\" \");\n      if ((_ = theme2(\"keyframes\", parts[0], __ = {})) !== __) {\n        return ($ = tag(parts[0])) && {\n          animation: $ + \" \" + join(tail(parts), \" \"),\n          [\"@keyframes \" + $]: _\n        };\n      }\n      return {animation: $};\n    }\n  },\n  ring(params, {theme: theme2}, id) {\n    switch (params[0]) {\n      case \"inset\":\n        return {\"--tw-ring-inset\": \"inset\"};\n      case \"opacity\":\n        return opacityProperty(params, theme2, id);\n      case \"offset\":\n        return (_ = theme2(\"ringOffsetWidth\", tail(params), \"\")) ? {\n          \"--tw-ring-offset-width\": _\n        } : {\n          \"--tw-ring-offset-color\": theme2(\"ringOffsetColor\", tail(params))\n        };\n    }\n    return (_ = theme2(\"ringWidth\", params, \"\")) ? {\n      \"--tw-ring-offset-shadow\": `var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)`,\n      \"--tw-ring-shadow\": `var(--tw-ring-inset) 0 0 0 calc(${_} + var(--tw-ring-offset-width)) var(--tw-ring-color)`,\n      boxShadow: `var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 transparent)`,\n      \":global\": {\n        \"*\": {\n          \"--tw-ring-inset\": \"var(--tw-empty,/*!*/ /*!*/)\",\n          \"--tw-ring-offset-width\": theme2(\"ringOffsetWidth\", \"\", \"0px\"),\n          \"--tw-ring-offset-color\": theme2(\"ringOffsetColor\", \"\", \"#fff\"),\n          \"--tw-ring-color\": asRGBA(theme2(\"ringColor\", \"\", \"#93c5fd\"), \"ring-opacity\", theme2(\"ringOpacity\", \"\", \"0.5\")),\n          \"--tw-ring-offset-shadow\": \"0 0 transparent\",\n          \"--tw-ring-shadow\": \"0 0 transparent\"\n        }\n      }\n    } : {\n      \"--tw-ring-opacity\": \"1\",\n      \"--tw-ring-color\": asRGBA(theme2(\"ringColor\", params), \"ring-opacity\")\n    };\n  },\n  object: (params, context, id) => includes([\"contain\", \"cover\", \"fill\", \"none\", \"scale-down\"], join(params)) ? {objectFit: join(params)} : themePropertyFallback(\"objectPosition\", \" \")(params, context, id),\n  list: (params, context, id) => join(params) == \"item\" ? display(params, context, id) : includes([\"inside\", \"outside\"], join(params)) ? {listStylePosition: params[0]} : themePropertyFallback(\"listStyleType\")(params, context, id),\n  rounded: (params, context, id) => corners(context.theme(\"borderRadius\", tail(params), \"\"), params[0], \"border\", \"radius\") || themeProperty(\"borderRadius\")(params, context, id),\n  \"transition-none\": {transitionProperty: \"none\"},\n  transition: (params, {theme: theme2}) => ({\n    transitionProperty: theme2(\"transitionProperty\", params),\n    transitionTimingFunction: theme2(\"transitionTimingFunction\", \"\"),\n    transitionDuration: theme2(\"transitionDuration\", \"\")\n  }),\n  container: (params, {theme: theme2}) => {\n    const {screens = theme2(\"screens\"), center, padding: padding2} = theme2(\"container\");\n    const paddingFor = (screen) => (_ = padding2 && (typeof padding2 == \"string\" ? padding2 : padding2[screen] || padding2.DEFAULT)) ? {\n      paddingRight: _,\n      paddingLeft: _\n    } : {};\n    return Object.keys(screens).reduce((rules2, screen) => {\n      if (($ = screens[screen]) && typeof $ == \"string\") {\n        rules2[buildMediaQuery($)] = {\n          \"&\": {\n            \"max-width\": $,\n            ...paddingFor(screen)\n          }\n        };\n      }\n      return rules2;\n    }, {\n      width: \"100%\",\n      ...center ? {marginRight: \"auto\", marginLeft: \"auto\"} : {},\n      ...paddingFor(\"xs\")\n    });\n  },\n  filter,\n  blur: filter,\n  brightness: filter,\n  contrast: filter,\n  grayscale: filter,\n  \"hue-rotate\": filter,\n  invert: filter,\n  saturate: filter,\n  sepia: filter,\n  \"drop-shadow\": filter,\n  backdrop: filter\n};\n\n// src/twind/preflight.ts\nvar createPreflight = (theme2) => ({\n  \":root\": {tabSize: 4},\n  \"body,blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre,fieldset,ol,ul\": {margin: \"0\"},\n  button: {backgroundColor: \"transparent\", backgroundImage: \"none\"},\n  'button,[type=\"button\"],[type=\"reset\"],[type=\"submit\"]': {WebkitAppearance: \"button\"},\n  \"button:focus\": {outline: [\"1px dotted\", \"5px auto -webkit-focus-ring-color\"]},\n  \"fieldset,ol,ul,legend\": {padding: \"0\"},\n  \"ol,ul\": {listStyle: \"none\"},\n  html: {\n    lineHeight: \"1.5\",\n    WebkitTextSizeAdjust: \"100%\",\n    fontFamily: theme2(\"fontFamily.sans\", \"ui-sans-serif,system-ui,sans-serif\")\n  },\n  body: {fontFamily: \"inherit\", lineHeight: \"inherit\"},\n  \"*,::before,::after\": {\n    boxSizing: \"border-box\",\n    border: `0 solid ${theme2(\"borderColor.DEFAULT\", \"currentColor\")}`\n  },\n  hr: {height: \"0\", color: \"inherit\", borderTopWidth: \"1px\"},\n  img: {borderStyle: \"solid\"},\n  textarea: {resize: \"vertical\"},\n  \"input::placeholder,textarea::placeholder\": {\n    opacity: \"1\",\n    color: theme2(\"placeholderColor.DEFAULT\", theme2(\"colors.gray.400\", \"#a1a1aa\"))\n  },\n  'button,[role=\"button\"]': {cursor: \"pointer\"},\n  table: {textIndent: \"0\", borderColor: \"inherit\", borderCollapse: \"collapse\"},\n  \"h1,h2,h3,h4,h5,h6\": {fontSize: \"inherit\", fontWeight: \"inherit\"},\n  a: {color: \"inherit\", textDecoration: \"inherit\"},\n  \"button,input,optgroup,select,textarea\": {\n    fontFamily: \"inherit\",\n    fontSize: \"100%\",\n    margin: \"0\",\n    padding: \"0\",\n    lineHeight: \"inherit\",\n    color: \"inherit\"\n  },\n  \"button,select\": {textTransform: \"none\"},\n  \"::-moz-focus-inner\": {borderStyle: \"none\", padding: \"0\"},\n  \":-moz-focusring\": {outline: \"1px dotted ButtonText\"},\n  \":-moz-ui-invalid\": {boxShadow: \"none\"},\n  progress: {verticalAlign: \"baseline\"},\n  \"::-webkit-inner-spin-button,::-webkit-outer-spin-button\": {height: \"auto\"},\n  '[type=\"search\"]': {WebkitAppearance: \"textfield\", outlineOffset: \"-2px\"},\n  \"::-webkit-search-decoration\": {WebkitAppearance: \"none\"},\n  \"::-webkit-file-upload-button\": {WebkitAppearance: \"button\", font: \"inherit\"},\n  summary: {display: \"list-item\"},\n  \"abbr[title]\": {textDecoration: \"underline dotted\"},\n  \"b,strong\": {fontWeight: \"bolder\"},\n  \"pre,code,kbd,samp\": {\n    fontFamily: theme2(\"fontFamily\", \"mono\", \"ui-monospace,monospace\"),\n    fontSize: \"1em\"\n  },\n  \"sub,sup\": {fontSize: \"75%\", lineHeight: \"0\", position: \"relative\", verticalAlign: \"baseline\"},\n  sub: {bottom: \"-0.25em\"},\n  sup: {top: \"-0.5em\"},\n  \"img,svg,video,canvas,audio,iframe,embed,object\": {display: \"block\", verticalAlign: \"middle\"},\n  \"img,video\": {maxWidth: \"100%\", height: \"auto\"}\n});\n\n// src/twind/variants.ts\nvar coreVariants = {\n  dark: \"@media (prefers-color-scheme:dark)\",\n  sticky: \"@supports ((position: -webkit-sticky) or (position:sticky))\",\n  \"motion-reduce\": \"@media (prefers-reduced-motion:reduce)\",\n  \"motion-safe\": \"@media (prefers-reduced-motion:no-preference)\",\n  first: \"&:first-child\",\n  last: \"&:last-child\",\n  even: \"&:nth-child(2n)\",\n  odd: \"&:nth-child(odd)\",\n  children: \"&>*\",\n  siblings: \"&~*\",\n  sibling: \"&+*\",\n  override: \"&&\"\n};\n\n// src/internal/dom.ts\nvar STYLE_ELEMENT_ID = \"__twind\";\nvar getStyleElement = (nonce) => {\n  let element = self[STYLE_ELEMENT_ID];\n  if (!element) {\n    element = document.head.appendChild(document.createElement(\"style\"));\n    element.id = STYLE_ELEMENT_ID;\n    nonce && (element.nonce = nonce);\n    element.appendChild(document.createTextNode(\"\"));\n  }\n  return element;\n};\n\n// src/twind/sheets.ts\nvar cssomSheet = ({\n  nonce,\n  target = getStyleElement(nonce).sheet\n} = {}) => {\n  const offset = target.cssRules.length;\n  return {\n    target,\n    insert: (rule, index) => target.insertRule(rule, offset + index)\n  };\n};\nvar voidSheet = () => ({\n  target: null,\n  insert: noop\n});\n\n// src/twind/modes.ts\nvar mode = (report) => ({\n  unknown(section, key = [], optional, context) {\n    if (!optional) {\n      this.report({id: \"UNKNOWN_THEME_VALUE\", key: section + \".\" + join(key)}, context);\n    }\n  },\n  report({id, ...info}) {\n    return report(`[${id}] ${JSON.stringify(info)}`);\n  }\n});\nvar warn = /* @__PURE__ */ mode((message) => console.warn(message));\nvar strict = /* @__PURE__ */ mode((message) => {\n  throw new Error(message);\n});\nvar silent = /* @__PURE__ */ mode(noop);\n\n// src/twind/prefix.ts\nimport {cssPropertyAlias, cssPropertyPrefixFlags, cssValuePrefixFlags} from \"style-vendorizer\";\nvar noprefix = (property2, value, important) => `${property2}:${value}${important ? \" !important\" : \"\"}`;\nvar autoprefix = (property2, value, important) => {\n  let cssText = \"\";\n  const propertyAlias = cssPropertyAlias(property2);\n  if (propertyAlias)\n    cssText += `${noprefix(propertyAlias, value, important)};`;\n  let flags = cssPropertyPrefixFlags(property2);\n  if (flags & 1)\n    cssText += `-webkit-${noprefix(property2, value, important)};`;\n  if (flags & 2)\n    cssText += `-moz-${noprefix(property2, value, important)};`;\n  if (flags & 4)\n    cssText += `-ms-${noprefix(property2, value, important)};`;\n  flags = cssValuePrefixFlags(property2, value);\n  if (flags & 1)\n    cssText += `${noprefix(property2, `-webkit-${value}`, important)};`;\n  if (flags & 2)\n    cssText += `${noprefix(property2, `-moz-${value}`, important)};`;\n  if (flags & 4)\n    cssText += `${noprefix(property2, `-ms-${value}`, important)};`;\n  cssText += noprefix(property2, value, important);\n  return cssText;\n};\n\n// src/twind/theme.ts\nvar ratios = (start, end) => {\n  const result = {};\n  do {\n    for (let dividend = 1; dividend < start; dividend++) {\n      result[`${dividend}/${start}`] = Number((dividend / start * 100).toFixed(6)) + \"%\";\n    }\n  } while (++start <= end);\n  return result;\n};\nvar exponential = (stop, unit, start = 0) => {\n  const result = {};\n  for (; start <= stop; start = start * 2 || 1) {\n    result[start] = start + unit;\n  }\n  return result;\n};\nvar linear = (stop, unit = \"\", divideBy = 1, start = 0, step = 1, result = {}) => {\n  for (; start <= stop; start += step) {\n    result[start] = start / divideBy + unit;\n  }\n  return result;\n};\nvar alias2 = (section) => (theme2) => theme2(section);\nvar themeFactory = (args, {theme: theme2}) => theme2(...args);\nvar theme = (...args) => directive(themeFactory, args);\nvar defaultTheme = {\n  screens: {\n    sm: \"640px\",\n    md: \"768px\",\n    lg: \"1024px\",\n    xl: \"1280px\",\n    \"2xl\": \"1536px\"\n  },\n  colors: {\n    transparent: \"transparent\",\n    current: \"currentColor\",\n    black: \"#000\",\n    white: \"#fff\",\n    gray: {\n      50: \"#f9fafb\",\n      100: \"#f3f4f6\",\n      200: \"#e5e7eb\",\n      300: \"#d1d5db\",\n      400: \"#9ca3af\",\n      500: \"#6b7280\",\n      600: \"#4b5563\",\n      700: \"#374151\",\n      800: \"#1f2937\",\n      900: \"#111827\"\n    },\n    red: {\n      50: \"#fef2f2\",\n      100: \"#fee2e2\",\n      200: \"#fecaca\",\n      300: \"#fca5a5\",\n      400: \"#f87171\",\n      500: \"#ef4444\",\n      600: \"#dc2626\",\n      700: \"#b91c1c\",\n      800: \"#991b1b\",\n      900: \"#7f1d1d\"\n    },\n    yellow: {\n      50: \"#fffbeb\",\n      100: \"#fef3c7\",\n      200: \"#fde68a\",\n      300: \"#fcd34d\",\n      400: \"#fbbf24\",\n      500: \"#f59e0b\",\n      600: \"#d97706\",\n      700: \"#b45309\",\n      800: \"#92400e\",\n      900: \"#78350f\"\n    },\n    green: {\n      50: \"#ecfdf5\",\n      100: \"#d1fae5\",\n      200: \"#a7f3d0\",\n      300: \"#6ee7b7\",\n      400: \"#34d399\",\n      500: \"#10b981\",\n      600: \"#059669\",\n      700: \"#047857\",\n      800: \"#065f46\",\n      900: \"#064e3b\"\n    },\n    blue: {\n      50: \"#eff6ff\",\n      100: \"#dbeafe\",\n      200: \"#bfdbfe\",\n      300: \"#93c5fd\",\n      400: \"#60a5fa\",\n      500: \"#3b82f6\",\n      600: \"#2563eb\",\n      700: \"#1d4ed8\",\n      800: \"#1e40af\",\n      900: \"#1e3a8a\"\n    },\n    indigo: {\n      50: \"#eef2ff\",\n      100: \"#e0e7ff\",\n      200: \"#c7d2fe\",\n      300: \"#a5b4fc\",\n      400: \"#818cf8\",\n      500: \"#6366f1\",\n      600: \"#4f46e5\",\n      700: \"#4338ca\",\n      800: \"#3730a3\",\n      900: \"#312e81\"\n    },\n    purple: {\n      50: \"#f5f3ff\",\n      100: \"#ede9fe\",\n      200: \"#ddd6fe\",\n      300: \"#c4b5fd\",\n      400: \"#a78bfa\",\n      500: \"#8b5cf6\",\n      600: \"#7c3aed\",\n      700: \"#6d28d9\",\n      800: \"#5b21b6\",\n      900: \"#4c1d95\"\n    },\n    pink: {\n      50: \"#fdf2f8\",\n      100: \"#fce7f3\",\n      200: \"#fbcfe8\",\n      300: \"#f9a8d4\",\n      400: \"#f472b6\",\n      500: \"#ec4899\",\n      600: \"#db2777\",\n      700: \"#be185d\",\n      800: \"#9d174d\",\n      900: \"#831843\"\n    }\n  },\n  spacing: {\n    px: \"1px\",\n    0: \"0px\",\n    .../* @__PURE__ */ linear(4, \"rem\", 4, 0.5, 0.5),\n    .../* @__PURE__ */ linear(12, \"rem\", 4, 5),\n    14: \"3.5rem\",\n    .../* @__PURE__ */ linear(64, \"rem\", 4, 16, 4),\n    72: \"18rem\",\n    80: \"20rem\",\n    96: \"24rem\"\n  },\n  durations: {\n    75: \"75ms\",\n    100: \"100ms\",\n    150: \"150ms\",\n    200: \"200ms\",\n    300: \"300ms\",\n    500: \"500ms\",\n    700: \"700ms\",\n    1e3: \"1000ms\"\n  },\n  animation: {\n    none: \"none\",\n    spin: \"spin 1s linear infinite\",\n    ping: \"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite\",\n    pulse: \"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite\",\n    bounce: \"bounce 1s infinite\"\n  },\n  backdropBlur: /* @__PURE__ */ alias2(\"blur\"),\n  backdropBrightness: /* @__PURE__ */ alias2(\"brightness\"),\n  backdropContrast: /* @__PURE__ */ alias2(\"contrast\"),\n  backdropGrayscale: /* @__PURE__ */ alias2(\"grayscale\"),\n  backdropHueRotate: /* @__PURE__ */ alias2(\"hueRotate\"),\n  backdropInvert: /* @__PURE__ */ alias2(\"invert\"),\n  backdropOpacity: /* @__PURE__ */ alias2(\"opacity\"),\n  backdropSaturate: /* @__PURE__ */ alias2(\"saturate\"),\n  backdropSepia: /* @__PURE__ */ alias2(\"sepia\"),\n  backgroundColor: /* @__PURE__ */ alias2(\"colors\"),\n  backgroundImage: {\n    none: \"none\"\n  },\n  backgroundOpacity: /* @__PURE__ */ alias2(\"opacity\"),\n  backgroundSize: {\n    auto: \"auto\",\n    cover: \"cover\",\n    contain: \"contain\"\n  },\n  blur: {\n    0: \"0\",\n    sm: \"4px\",\n    DEFAULT: \"8px\",\n    md: \"12px\",\n    lg: \"16px\",\n    xl: \"24px\",\n    \"2xl\": \"40px\",\n    \"3xl\": \"64px\"\n  },\n  brightness: {\n    .../* @__PURE__ */ linear(200, \"\", 100, 0, 50),\n    .../* @__PURE__ */ linear(110, \"\", 100, 90, 5),\n    75: \"0.75\",\n    125: \"1.25\"\n  },\n  borderColor: (theme2) => ({\n    ...theme2(\"colors\"),\n    DEFAULT: theme2(\"colors.gray.200\", \"currentColor\")\n  }),\n  borderOpacity: /* @__PURE__ */ alias2(\"opacity\"),\n  borderRadius: {\n    none: \"0px\",\n    sm: \"0.125rem\",\n    DEFAULT: \"0.25rem\",\n    md: \"0.375rem\",\n    lg: \"0.5rem\",\n    xl: \"0.75rem\",\n    \"2xl\": \"1rem\",\n    \"3xl\": \"1.5rem\",\n    \"1/2\": \"50%\",\n    full: \"9999px\"\n  },\n  borderWidth: {\n    DEFAULT: \"1px\",\n    .../* @__PURE__ */ exponential(8, \"px\")\n  },\n  boxShadow: {\n    sm: \"0 1px 2px 0 rgba(0,0,0,0.05)\",\n    DEFAULT: \"0 1px 3px 0 rgba(0,0,0,0.1), 0 1px 2px 0 rgba(0,0,0,0.06)\",\n    md: \"0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)\",\n    lg: \"0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05)\",\n    xl: \"0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04)\",\n    \"2xl\": \"0 25px 50px -12px rgba(0,0,0,0.25)\",\n    inner: \"inset 0 2px 4px 0 rgba(0,0,0,0.06)\",\n    none: \"none\"\n  },\n  contrast: {\n    .../* @__PURE__ */ linear(200, \"\", 100, 0, 50),\n    75: \"0.75\",\n    125: \"1.25\"\n  },\n  divideColor: /* @__PURE__ */ alias2(\"borderColor\"),\n  divideOpacity: /* @__PURE__ */ alias2(\"borderOpacity\"),\n  divideWidth: /* @__PURE__ */ alias2(\"borderWidth\"),\n  dropShadow: {\n    sm: \"0 1px 1px rgba(0,0,0,0.05)\",\n    DEFAULT: [\"0 1px 2px rgba(0,0,0,0.1)\", \"0 1px 1px rgba(0,0,0,0.06)\"],\n    md: [\"0 4px 3px rgba(0,0,0,0.07)\", \"0 2px 2px rgba(0,0,0,0.06)\"],\n    lg: [\"0 10px 8px rgba(0,0,0,0.04)\", \"0 4px 3px rgba(0,0,0,0.1)\"],\n    xl: [\"0 20px 13px rgba(0,0,0,0.03)\", \"0 8px 5px rgba(0,0,0,0.08)\"],\n    \"2xl\": \"0 25px 25px rgba(0,0,0,0.15)\",\n    none: \"0 0 #0000\"\n  },\n  fill: {current: \"currentColor\"},\n  grayscale: {\n    0: \"0\",\n    DEFAULT: \"100%\"\n  },\n  hueRotate: {\n    0: \"0deg\",\n    15: \"15deg\",\n    30: \"30deg\",\n    60: \"60deg\",\n    90: \"90deg\",\n    180: \"180deg\"\n  },\n  invert: {\n    0: \"0\",\n    DEFAULT: \"100%\"\n  },\n  flex: {\n    1: \"1 1 0%\",\n    auto: \"1 1 auto\",\n    initial: \"0 1 auto\",\n    none: \"none\"\n  },\n  fontFamily: {\n    sans: 'ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,\"Noto Sans\",sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\"'.split(\",\"),\n    serif: 'ui-serif,Georgia,Cambria,\"Times New Roman\",Times,serif'.split(\",\"),\n    mono: 'ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace'.split(\",\")\n  },\n  fontSize: {\n    xs: [\"0.75rem\", \"1rem\"],\n    sm: [\"0.875rem\", \"1.25rem\"],\n    base: [\"1rem\", \"1.5rem\"],\n    lg: [\"1.125rem\", \"1.75rem\"],\n    xl: [\"1.25rem\", \"1.75rem\"],\n    \"2xl\": [\"1.5rem\", \"2rem\"],\n    \"3xl\": [\"1.875rem\", \"2.25rem\"],\n    \"4xl\": [\"2.25rem\", \"2.5rem\"],\n    \"5xl\": [\"3rem\", \"1\"],\n    \"6xl\": [\"3.75rem\", \"1\"],\n    \"7xl\": [\"4.5rem\", \"1\"],\n    \"8xl\": [\"6rem\", \"1\"],\n    \"9xl\": [\"8rem\", \"1\"]\n  },\n  fontWeight: {\n    thin: \"100\",\n    extralight: \"200\",\n    light: \"300\",\n    normal: \"400\",\n    medium: \"500\",\n    semibold: \"600\",\n    bold: \"700\",\n    extrabold: \"800\",\n    black: \"900\"\n  },\n  gridTemplateColumns: {},\n  gridTemplateRows: {},\n  gridAutoColumns: {\n    min: \"min-content\",\n    max: \"max-content\",\n    fr: \"minmax(0,1fr)\"\n  },\n  gridAutoRows: {\n    min: \"min-content\",\n    max: \"max-content\",\n    fr: \"minmax(0,1fr)\"\n  },\n  gridColumn: {\n    auto: \"auto\",\n    \"span-full\": \"1 / -1\"\n  },\n  gridRow: {\n    auto: \"auto\",\n    \"span-full\": \"1 / -1\"\n  },\n  gap: /* @__PURE__ */ alias2(\"spacing\"),\n  gradientColorStops: /* @__PURE__ */ alias2(\"colors\"),\n  height: (theme2) => ({\n    auto: \"auto\",\n    ...theme2(\"spacing\"),\n    ...ratios(2, 6),\n    full: \"100%\",\n    screen: \"100vh\"\n  }),\n  inset: (theme2) => ({\n    auto: \"auto\",\n    ...theme2(\"spacing\"),\n    ...ratios(2, 4),\n    full: \"100%\"\n  }),\n  keyframes: {\n    spin: {\n      from: {\n        transform: \"rotate(0deg)\"\n      },\n      to: {\n        transform: \"rotate(360deg)\"\n      }\n    },\n    ping: {\n      \"0%\": {\n        transform: \"scale(1)\",\n        opacity: \"1\"\n      },\n      \"75%,100%\": {\n        transform: \"scale(2)\",\n        opacity: \"0\"\n      }\n    },\n    pulse: {\n      \"0%,100%\": {\n        opacity: \"1\"\n      },\n      \"50%\": {\n        opacity: \".5\"\n      }\n    },\n    bounce: {\n      \"0%, 100%\": {\n        transform: \"translateY(-25%)\",\n        animationTimingFunction: \"cubic-bezier(0.8,0,1,1)\"\n      },\n      \"50%\": {\n        transform: \"none\",\n        animationTimingFunction: \"cubic-bezier(0,0,0.2,1)\"\n      }\n    }\n  },\n  letterSpacing: {\n    tighter: \"-0.05em\",\n    tight: \"-0.025em\",\n    normal: \"0em\",\n    wide: \"0.025em\",\n    wider: \"0.05em\",\n    widest: \"0.1em\"\n  },\n  lineHeight: {\n    none: \"1\",\n    tight: \"1.25\",\n    snug: \"1.375\",\n    normal: \"1.5\",\n    relaxed: \"1.625\",\n    loose: \"2\",\n    .../* @__PURE__ */ linear(10, \"rem\", 4, 3)\n  },\n  margin: (theme2) => ({\n    auto: \"auto\",\n    ...theme2(\"spacing\")\n  }),\n  maxHeight: (theme2) => ({\n    ...theme2(\"spacing\"),\n    full: \"100%\",\n    screen: \"100vh\"\n  }),\n  maxWidth: (theme2, {breakpoints}) => ({\n    none: \"none\",\n    0: \"0rem\",\n    xs: \"20rem\",\n    sm: \"24rem\",\n    md: \"28rem\",\n    lg: \"32rem\",\n    xl: \"36rem\",\n    \"2xl\": \"42rem\",\n    \"3xl\": \"48rem\",\n    \"4xl\": \"56rem\",\n    \"5xl\": \"64rem\",\n    \"6xl\": \"72rem\",\n    \"7xl\": \"80rem\",\n    full: \"100%\",\n    min: \"min-content\",\n    max: \"max-content\",\n    prose: \"65ch\",\n    ...breakpoints(theme2(\"screens\"))\n  }),\n  minHeight: {\n    0: \"0px\",\n    full: \"100%\",\n    screen: \"100vh\"\n  },\n  minWidth: {\n    0: \"0px\",\n    full: \"100%\",\n    min: \"min-content\",\n    max: \"max-content\"\n  },\n  opacity: {\n    .../* @__PURE__ */ linear(100, \"\", 100, 0, 10),\n    5: \"0.05\",\n    25: \"0.25\",\n    75: \"0.75\",\n    95: \"0.95\"\n  },\n  order: {\n    first: \"-9999\",\n    last: \"9999\",\n    none: \"0\",\n    .../* @__PURE__ */ linear(12, \"\", 1, 1)\n  },\n  outline: {\n    none: [\"2px solid transparent\", \"2px\"],\n    white: [\"2px dotted white\", \"2px\"],\n    black: [\"2px dotted black\", \"2px\"]\n  },\n  padding: /* @__PURE__ */ alias2(\"spacing\"),\n  placeholderColor: /* @__PURE__ */ alias2(\"colors\"),\n  placeholderOpacity: /* @__PURE__ */ alias2(\"opacity\"),\n  ringColor: (theme2) => ({\n    DEFAULT: theme2(\"colors.blue.500\", \"#3b82f6\"),\n    ...theme2(\"colors\")\n  }),\n  ringOffsetColor: /* @__PURE__ */ alias2(\"colors\"),\n  ringOffsetWidth: /* @__PURE__ */ exponential(8, \"px\"),\n  ringOpacity: (theme2) => ({\n    DEFAULT: \"0.5\",\n    ...theme2(\"opacity\")\n  }),\n  ringWidth: {\n    DEFAULT: \"3px\",\n    .../* @__PURE__ */ exponential(8, \"px\")\n  },\n  rotate: {\n    .../* @__PURE__ */ exponential(2, \"deg\"),\n    .../* @__PURE__ */ exponential(12, \"deg\", 3),\n    .../* @__PURE__ */ exponential(180, \"deg\", 45)\n  },\n  saturate: /* @__PURE__ */ linear(200, \"\", 100, 0, 50),\n  scale: {\n    .../* @__PURE__ */ linear(150, \"\", 100, 0, 50),\n    .../* @__PURE__ */ linear(110, \"\", 100, 90, 5),\n    75: \"0.75\",\n    125: \"1.25\"\n  },\n  sepia: {\n    0: \"0\",\n    DEFAULT: \"100%\"\n  },\n  skew: {\n    .../* @__PURE__ */ exponential(2, \"deg\"),\n    .../* @__PURE__ */ exponential(12, \"deg\", 3)\n  },\n  space: /* @__PURE__ */ alias2(\"spacing\"),\n  stroke: {\n    current: \"currentColor\"\n  },\n  strokeWidth: /* @__PURE__ */ linear(2),\n  textColor: /* @__PURE__ */ alias2(\"colors\"),\n  textOpacity: /* @__PURE__ */ alias2(\"opacity\"),\n  transitionDuration: (theme2) => ({\n    DEFAULT: \"150ms\",\n    ...theme2(\"durations\")\n  }),\n  transitionDelay: /* @__PURE__ */ alias2(\"durations\"),\n  transitionProperty: {\n    none: \"none\",\n    all: \"all\",\n    DEFAULT: \"background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter\",\n    colors: \"background-color,border-color,color,fill,stroke\",\n    opacity: \"opacity\",\n    shadow: \"box-shadow\",\n    transform: \"transform\"\n  },\n  transitionTimingFunction: {\n    DEFAULT: \"cubic-bezier(0.4,0,0.2,1)\",\n    linear: \"linear\",\n    in: \"cubic-bezier(0.4,0,1,1)\",\n    out: \"cubic-bezier(0,0,0.2,1)\",\n    \"in-out\": \"cubic-bezier(0.4,0,0.2,1)\"\n  },\n  translate: (theme2) => ({\n    ...theme2(\"spacing\"),\n    ...ratios(2, 4),\n    full: \"100%\"\n  }),\n  width: (theme2) => ({\n    auto: \"auto\",\n    ...theme2(\"spacing\"),\n    ...ratios(2, 6),\n    ...ratios(12, 12),\n    screen: \"100vw\",\n    full: \"100%\",\n    min: \"min-content\",\n    max: \"max-content\"\n  }),\n  zIndex: {\n    auto: \"auto\",\n    .../* @__PURE__ */ linear(50, \"\", 1, 0, 10)\n  }\n};\nvar flattenColorPalette = (colors, target = {}, prefix = []) => {\n  Object.keys(colors).forEach((property2) => {\n    const value = colors[property2];\n    if (property2 == \"DEFAULT\") {\n      target[join(prefix)] = value;\n      target[join(prefix, \".\")] = value;\n    }\n    const key = [...prefix, property2];\n    target[join(key)] = value;\n    target[join(key, \".\")] = value;\n    if (value && typeof value == \"object\") {\n      flattenColorPalette(value, target, key);\n    }\n  }, target);\n  return target;\n};\nvar resolveContext = {\n  negative: () => ({}),\n  breakpoints: (screens) => Object.keys(screens).filter((key) => typeof screens[key] == \"string\").reduce((target, key) => {\n    target[\"screen-\" + key] = screens[key];\n    return target;\n  }, {})\n};\nvar handleArbitraryValues = (section, key) => (key = key[0] == \"[\" && key.slice(-1) == \"]\" && key.slice(1, -1)) && includes(section, \"olor\") == /^(#|(hsl|rgb)a?\\(|[a-z]+$)/.test(key) && (includes(key, \"calc(\") ? key.replace(/(-?\\d*\\.?\\d(?!\\b-.+[,)](?![^+\\-/*])\\D)(?:%|[a-z]+)?|\\))([+\\-/*])/g, \"$1 $2 \") : key);\nvar makeThemeResolver = (config) => {\n  const cache = new Map();\n  const theme2 = {...defaultTheme, ...config};\n  const deref = (theme3, section) => {\n    const base = theme3 && theme3[section];\n    const value = typeof base == \"function\" ? base(resolve, resolveContext) : base;\n    return value && section == \"colors\" ? flattenColorPalette(value) : value;\n  };\n  const resolve = (section, key, defaultValue) => {\n    const keypath = section.split(\".\");\n    section = keypath[0];\n    if (keypath.length > 1) {\n      defaultValue = key;\n      key = join(tail(keypath), \".\");\n    }\n    let base = cache.get(section);\n    if (!base) {\n      cache.set(section, base = {...deref(theme2, section)});\n      Object.assign(base, deref(theme2.extend, section));\n    }\n    if (key != null) {\n      key = (Array.isArray(key) ? join(key) : key) || \"DEFAULT\";\n      const value = handleArbitraryValues(section, key) || base[key];\n      return value == null ? defaultValue : Array.isArray(value) && !includes([\"fontSize\", \"outline\", \"dropShadow\"], section) ? join(value, \",\") : value;\n    }\n    return base;\n  };\n  return resolve;\n};\n\n// src/twind/translate.ts\nvar translate = (plugins, context) => (rule, isTranslating) => {\n  if (typeof rule.d == \"function\") {\n    return rule.d(context);\n  }\n  const parameters = rule.d.split(/-(?![^[]*])/g);\n  if (!isTranslating && parameters[0] == \"tw\" && rule.$ == rule.d) {\n    return rule.$;\n  }\n  for (let index = parameters.length; index; index--) {\n    const id = join(parameters.slice(0, index));\n    if (Object.prototype.hasOwnProperty.call(plugins, id)) {\n      const plugin = plugins[id];\n      return typeof plugin == \"function\" ? plugin(tail(parameters, index), context, id) : typeof plugin == \"string\" ? context[isTranslating ? \"css\" : \"tw\"](plugin) : plugin;\n    }\n  }\n};\n\n// src/twind/decorate.ts\nvar _2;\nvar GROUP_RE = /^:(group(?:(?!-focus).+?)*)-(.+)$/;\nvar NOT_PREFIX_RE = /^(:not)-(.+)/;\nvar prepareVariantSelector = (variant) => variant[1] == \"[\" ? tail(variant) : variant;\nvar decorate = (darkMode, variants, {theme: theme2, tag}) => {\n  const applyVariant = (translation, variant) => {\n    if (_2 = theme2(\"screens\", tail(variant), \"\")) {\n      return {[buildMediaQuery(_2)]: translation};\n    }\n    if (variant == \":dark\" && darkMode == \"class\") {\n      return {\".dark &\": translation};\n    }\n    if (_2 = GROUP_RE.exec(variant)) {\n      return {[`.${escape(tag(_2[1]))}:${_2[2]} &`]: translation};\n    }\n    return {\n      [variants[tail(variant)] || \"&\" + variant.replace(NOT_PREFIX_RE, (_4, not, variant2) => not + \"(\" + prepareVariantSelector(\":\" + variant2) + \")\")]: translation\n    };\n  };\n  return (translation, rule) => rule.v.reduceRight(applyVariant, translation);\n};\n\n// src/twind/presedence.ts\nvar _3;\nvar responsivePrecedence = (css) => (((_3 = /(?:^|min-width: *)(\\d+(?:.\\d+)?)(p)?/.exec(css)) ? +_3[1] / (_3[2] ? 15 : 1) / 10 : 0) & 31) << 22;\nvar seperatorPrecedence = (string) => {\n  _3 = 0;\n  for (let index = string.length; index--; ) {\n    _3 += includes(\"-:,\", string[index]);\n  }\n  return _3;\n};\nvar atRulePresedence = (css) => (seperatorPrecedence(css) & 15) << 18;\nvar PRECEDENCES_BY_PSEUDO_CLASS = [\n  \"rst\",\n  \"st\",\n  \"en\",\n  \"d\",\n  \"nk\",\n  \"sited\",\n  \"pty\",\n  \"ecked\",\n  \"cus-w\",\n  \"ver\",\n  \"cus\",\n  \"cus-v\",\n  \"tive\",\n  \"sable\",\n  \"ad-on\",\n  \"tiona\",\n  \"quire\"\n];\nvar pseudoPrecedence = (pseudoClass) => 1 << (~(_3 = PRECEDENCES_BY_PSEUDO_CLASS.indexOf(pseudoClass.replace(GROUP_RE, \":$2\").slice(3, 8))) ? _3 : 17);\nvar makeVariantPresedenceCalculator = (theme2, variants) => (presedence, variant) => presedence | ((_3 = theme2(\"screens\", tail(variant), \"\")) ? 1 << 27 | responsivePrecedence(buildMediaQuery(_3)) : variant == \":dark\" ? 1 << 30 : (_3 = variants[variant] || variant.replace(NOT_PREFIX_RE, \":$2\"))[0] == \"@\" ? atRulePresedence(_3) : pseudoPrecedence(variant));\nvar declarationPropertyPrecedence = (property2) => property2[0] == \"-\" ? 0 : seperatorPrecedence(property2) + ((_3 = /^(?:(border-(?!w|c|sty)|[tlbr].{2,4}m?$|c.{7}$)|([fl].{5}l|g.{8}$|pl))/.exec(property2)) ? +!!_3[1] || -!!_3[2] : 0) + 1;\n\n// src/twind/serialize.ts\nvar stringifyBlock = (body, selector) => selector + \"{\" + body + \"}\";\nvar serialize = (prefix, variants, context) => {\n  const {theme: theme2, tag} = context;\n  const tagVar = (_4, property2) => \"--\" + tag(property2);\n  const tagVars = (value) => `${value}`.replace(/--(tw-[\\w-]+)\\b/g, tagVar);\n  const stringifyDeclaration = (property2, value, important) => {\n    property2 = tagVars(property2);\n    return Array.isArray(value) ? join(value.filter(Boolean).map((value2) => prefix(property2, tagVars(value2), important)), \";\") : prefix(property2, tagVars(value), important);\n  };\n  let rules2;\n  const stringify2 = (atRules, selector, presedence, css, important) => {\n    if (Array.isArray(css)) {\n      css.forEach((css2) => css2 && stringify2(atRules, selector, presedence, css2, important));\n      return;\n    }\n    let declarations = \"\";\n    let maxPropertyPresedence = 0;\n    let numberOfDeclarations = 0;\n    if (css[\"@apply\"]) {\n      css = merge(evalThunk(apply(css[\"@apply\"]), context), {...css, \"@apply\": void 0}, context);\n    }\n    Object.keys(css).forEach((key) => {\n      const value = evalThunk(css[key], context);\n      if (isCSSProperty(key, value)) {\n        if (value !== \"\" && key.length > 1) {\n          const property2 = hyphenate(key);\n          numberOfDeclarations += 1;\n          maxPropertyPresedence = Math.max(maxPropertyPresedence, declarationPropertyPrecedence(property2));\n          declarations = (declarations && declarations + \";\") + stringifyDeclaration(property2, value, important);\n        }\n      } else if (value) {\n        if (key == \":global\") {\n          key = \"@global\";\n        }\n        if (key[0] == \"@\") {\n          if (key[1] == \"g\") {\n            stringify2([], \"\", 0, value, important);\n          } else if (key[1] == \"f\") {\n            stringify2([], key, 0, value, important);\n          } else if (key[1] == \"k\") {\n            const currentSize = rules2.length;\n            stringify2([], \"\", 0, value, important);\n            const waypoints = rules2.splice(currentSize, rules2.length - currentSize);\n            rules2.push({\n              r: stringifyBlock(join(waypoints.map((p) => p.r), \"\"), key),\n              p: waypoints.reduce((sum, p) => sum + p.p, 0)\n            });\n          } else if (key[1] == \"i\") {\n            ;\n            (Array.isArray(value) ? value : [value]).forEach((value2) => value2 && rules2.push({p: 0, r: `${key} ${value2};`}));\n          } else {\n            if (key[2] == \"c\") {\n              key = buildMediaQuery(context.theme(\"screens\", tail(key, 8).trim()));\n            }\n            stringify2([...atRules, key], selector, presedence | responsivePrecedence(key) | atRulePresedence(key), value, important);\n          }\n        } else {\n          stringify2(atRules, selector ? selector.replace(/ *((?:\\(.+?\\)|\\[.+?\\]|[^,])+) *(,|$)/g, (_4, selectorPart, comma) => key.replace(/ *((?:\\(.+?\\)|\\[.+?\\]|[^,])+) *(,|$)/g, (_5, keyPart, comma2) => (includes(keyPart, \"&\") ? keyPart.replace(/&/g, selectorPart) : (selectorPart && selectorPart + \" \") + keyPart) + comma2) + comma) : key, presedence, value, important);\n        }\n      }\n    });\n    if (numberOfDeclarations) {\n      rules2.push({\n        r: atRules.reduceRight(stringifyBlock, stringifyBlock(declarations, selector)),\n        p: presedence * (1 << 8) + ((Math.max(0, 15 - numberOfDeclarations) & 15) << 4 | (maxPropertyPresedence || 15) & 15)\n      });\n    }\n  };\n  const variantPresedence = makeVariantPresedenceCalculator(theme2, variants);\n  return (css, className, rule, layer = 0) => {\n    layer <<= 28;\n    rules2 = [];\n    stringify2([], className ? \".\" + escape(className) : \"\", rule ? rule.v.reduceRight(variantPresedence, layer) : layer, css, rule && rule.i);\n    return rules2;\n  };\n};\n\n// src/twind/inject.ts\nvar inject = (sheet, mode2, init, context) => {\n  let sortedPrecedences;\n  init((value = []) => sortedPrecedences = value);\n  let insertedRules;\n  init((value = new Set()) => insertedRules = value);\n  return ({r: css, p: presedence}) => {\n    if (!insertedRules.has(css)) {\n      insertedRules.add(css);\n      const index = sortedInsertionIndex(sortedPrecedences, presedence);\n      try {\n        sheet.insert(css, index);\n        sortedPrecedences.splice(index, 0, presedence);\n      } catch (error) {\n        if (!/:-[mwo]/.test(css)) {\n          mode2.report({id: \"INJECT_CSS_ERROR\", css, error}, context);\n        }\n      }\n    }\n  };\n};\n\n// src/twind/configure.ts\nvar sanitize = (value, defaultValue, disabled, enabled = defaultValue) => value === false ? disabled : value === true ? enabled : value || defaultValue;\nvar loadMode = (mode2) => (typeof mode2 == \"string\" ? {t: strict, a: warn, i: silent}[mode2[1]] : mode2) || warn;\nvar COMPONENT_PROPS = {_: {value: \"\", writable: true}};\nvar configure = (config = {}) => {\n  const theme2 = makeThemeResolver(config.theme);\n  const mode2 = loadMode(config.mode);\n  const hash = sanitize(config.hash, false, false, cyrb32);\n  const important = config.important;\n  let activeRule = {v: []};\n  let translateDepth = 0;\n  const lastTranslations = [];\n  const context = {\n    tw: (...tokens) => process(tokens),\n    theme: (section, key, defaultValue) => {\n      var _a;\n      const value = (_a = theme2(section, key, defaultValue)) != null ? _a : mode2.unknown(section, key == null || Array.isArray(key) ? key : key.split(\".\"), defaultValue != null, context);\n      return activeRule.n && value && includes(\"rg\", (typeof value)[5]) ? `calc(${value} * -1)` : value;\n    },\n    tag: (value) => hash ? hash(value) : value,\n    css: (rules2) => {\n      translateDepth++;\n      const lastTranslationsIndex = lastTranslations.length;\n      try {\n        ;\n        (typeof rules2 == \"string\" ? parse([rules2]) : rules2).forEach(convert);\n        const css = Object.create(null, COMPONENT_PROPS);\n        for (let index = lastTranslationsIndex; index < lastTranslations.length; index++) {\n          const translation = lastTranslations[index];\n          if (translation) {\n            switch (typeof translation) {\n              case \"object\":\n                merge(css, translation, context);\n                break;\n              case \"string\":\n                css._ += (css._ && \" \") + translation;\n            }\n          }\n        }\n        return css;\n      } finally {\n        lastTranslations.length = lastTranslationsIndex;\n        translateDepth--;\n      }\n    }\n  };\n  const translate2 = translate({...corePlugins, ...config.plugins}, context);\n  const doTranslate = (rule) => {\n    const parentRule = activeRule;\n    activeRule = rule;\n    try {\n      return evalThunk(translate2(rule), context);\n    } finally {\n      activeRule = parentRule;\n    }\n  };\n  const variants = {...coreVariants, ...config.variants};\n  const decorate2 = decorate(config.darkMode || \"media\", variants, context);\n  const serialize2 = serialize(sanitize(config.prefix, autoprefix, noprefix), variants, context);\n  const sheet = config.sheet || (typeof window == \"undefined\" ? voidSheet() : cssomSheet(config));\n  const {init = (callback) => callback()} = sheet;\n  const inject2 = inject(sheet, mode2, init, context);\n  let idToClassName;\n  init((value = new Map()) => idToClassName = value);\n  const inlineDirectiveName = new WeakMap();\n  const evaluateFunctions = (key, value) => key == \"_\" ? void 0 : typeof value == \"function\" ? JSON.stringify(evalThunk(value, context), evaluateFunctions) : value;\n  const convert = (rule) => {\n    if (!translateDepth && activeRule.v.length) {\n      rule = {...rule, v: [...activeRule.v, ...rule.v], $: \"\"};\n    }\n    if (!rule.$) {\n      rule.$ = stringifyRule(rule, inlineDirectiveName.get(rule.d));\n    }\n    let className = translateDepth ? null : idToClassName.get(rule.$);\n    if (className == null) {\n      let translation = doTranslate(rule);\n      if (!rule.$) {\n        rule.$ = cyrb32(JSON.stringify(translation, evaluateFunctions));\n        inlineDirectiveName.set(rule.d, rule.$);\n        rule.$ = stringifyRule(rule, rule.$);\n      }\n      if (translation && typeof translation == \"object\") {\n        rule.v = rule.v.map(prepareVariantSelector);\n        if (important)\n          rule.i = important;\n        translation = decorate2(translation, rule);\n        if (translateDepth) {\n          lastTranslations.push(translation);\n        } else {\n          const layer = typeof rule.d == \"function\" ? typeof translation._ == \"string\" ? 1 : 3 : 2;\n          className = hash || typeof rule.d == \"function\" ? (hash || cyrb32)(layer + rule.$) : rule.$;\n          serialize2(translation, className, rule, layer).forEach(inject2);\n          if (translation._) {\n            className += \" \" + translation._;\n          }\n        }\n      } else {\n        if (typeof translation == \"string\") {\n          className = translation;\n        } else {\n          className = rule.$;\n          mode2.report({id: \"UNKNOWN_DIRECTIVE\", rule: className}, context);\n        }\n        if (translateDepth && typeof rule.d !== \"function\") {\n          lastTranslations.push(className);\n        }\n      }\n      if (!translateDepth) {\n        idToClassName.set(rule.$, className);\n        ensureMaxSize(idToClassName, 3e4);\n      }\n    }\n    return className;\n  };\n  const process = (tokens) => join(parse(tokens).map(convert).filter(Boolean), \" \");\n  const preflight = sanitize(config.preflight, identity, false);\n  if (preflight) {\n    const css = createPreflight(theme2);\n    const styles = serialize2(typeof preflight == \"function\" ? evalThunk(preflight(css, context), context) || css : {...css, ...preflight});\n    init((injected = (styles.forEach(inject2), true)) => injected);\n  }\n  return {\n    init: () => mode2.report({id: \"LATE_SETUP_CALL\"}, context),\n    process\n  };\n};\n\n// src/twind/instance.ts\nvar create = (config) => {\n  let process = (tokens) => {\n    init();\n    return process(tokens);\n  };\n  let init = (config2) => {\n    ;\n    ({process, init} = configure(config2));\n  };\n  if (config)\n    init(config);\n  let context;\n  const fromContext = (key) => () => {\n    if (!context) {\n      process([\n        (_4) => {\n          context = _4;\n          return \"\";\n        }\n      ]);\n    }\n    return context[key];\n  };\n  return {\n    tw: Object.defineProperties((...tokens) => process(tokens), {\n      theme: {\n        get: fromContext(\"theme\")\n      }\n    }),\n    setup: (config2) => init(config2)\n  };\n};\n\n// src/twind/default.ts\nvar {tw, setup} = /* @__PURE__ */ create();\n\n// src/twind/expand.ts\nvar expandGroups = (classNames) => parse(classNames).map((rule) => stringifyRule(rule)).join(\" \");\nexport {\n  apply,\n  autoprefix,\n  create,\n  cssomSheet,\n  directive,\n  expandGroups,\n  cyrb32 as hash,\n  mode,\n  noprefix,\n  setup,\n  silent,\n  strict,\n  theme,\n  tw,\n  voidSheet,\n  warn\n};\n//# sourceMappingURL=twind.js.map\n","// TODO: allow '-' to trim up until newline. Use [^\\S\\n\\r] instead of \\s\r\n// TODO: only include trimLeft polyfill if not in ES6\r\n/* END TYPES */\r\nvar promiseImpl = new Function('return this')().Promise;\r\nvar asyncFunc = false;\r\ntry {\r\n    asyncFunc = new Function('return (async function(){}).constructor')();\r\n}\r\ncatch (e) {\r\n    // We shouldn't actually ever have any other errors, but...\r\n    if (!(e instanceof SyntaxError)) {\r\n        throw e;\r\n    }\r\n}\r\nfunction hasOwnProp(obj, prop) {\r\n    return Object.prototype.hasOwnProperty.call(obj, prop);\r\n}\r\nfunction copyProps(toObj, fromObj, notConfig) {\r\n    for (var key in fromObj) {\r\n        if (hasOwnProp(fromObj, key)) {\r\n            if (fromObj[key] != null &&\r\n                typeof fromObj[key] == 'object' &&\r\n                (key === 'storage' || key === 'prefixes') &&\r\n                !notConfig // not called from Cache.load\r\n            ) {\r\n                // plugins or storage\r\n                // Note: this doesn't merge from initial config!\r\n                // Deep clone instead of assigning\r\n                // TODO: run checks on this\r\n                toObj[key] = copyProps(/*toObj[key] ||*/ {}, fromObj[key]);\r\n            }\r\n            else {\r\n                toObj[key] = fromObj[key];\r\n            }\r\n        }\r\n    }\r\n    return toObj;\r\n}\r\nfunction trimWS(str, env, wsLeft, wsRight) {\r\n    var leftTrim;\r\n    var rightTrim;\r\n    if (typeof env.autoTrim === 'string') {\r\n        leftTrim = rightTrim = env.autoTrim;\r\n        // Don't need to check if env.autoTrim is false\r\n        // Because leftTrim, rightTrim are initialized as falsy\r\n    }\r\n    else if (Array.isArray(env.autoTrim)) {\r\n        // kinda confusing\r\n        // but _}} will trim the left side of the following string\r\n        leftTrim = env.autoTrim[1];\r\n        rightTrim = env.autoTrim[0];\r\n    }\r\n    if (wsLeft || wsLeft === false) {\r\n        leftTrim = wsLeft;\r\n    }\r\n    if (wsRight || wsRight === false) {\r\n        rightTrim = wsRight;\r\n    }\r\n    if (leftTrim === 'slurp' && rightTrim === 'slurp') {\r\n        return str.trim();\r\n    }\r\n    if (leftTrim === '_' || leftTrim === 'slurp') {\r\n        // console.log('trimming left' + leftTrim)\r\n        // full slurp\r\n        // eslint-disable-next-line no-extra-boolean-cast\r\n        if (!!String.prototype.trimLeft) {\r\n            str = str.trimLeft();\r\n        }\r\n        else {\r\n            str = str.replace(/^[\\s\\uFEFF\\xA0]+/, '');\r\n        }\r\n    }\r\n    else if (leftTrim === '-' || leftTrim === 'nl') {\r\n        // console.log('trimming left nl' + leftTrim)\r\n        // nl trim\r\n        str = str.replace(/^(?:\\n|\\r|\\r\\n)/, '');\r\n    }\r\n    if (rightTrim === '_' || rightTrim === 'slurp') {\r\n        // console.log('trimming right' + rightTrim)\r\n        // full slurp\r\n        // eslint-disable-next-line no-extra-boolean-cast\r\n        if (!!String.prototype.trimRight) {\r\n            str = str.trimRight();\r\n        }\r\n        else {\r\n            str = str.replace(/[\\s\\uFEFF\\xA0]+$/, '');\r\n        }\r\n    }\r\n    else if (rightTrim === '-' || rightTrim === 'nl') {\r\n        // console.log('trimming right nl' + rightTrim)\r\n        // nl trim\r\n        str = str.replace(/(?:\\n|\\r|\\r\\n)$/, ''); // TODO: make sure this gets \\r\\n\r\n    }\r\n    return str;\r\n}\r\n// credit to pugjs/pug\r\nfunction isValidJSIdentifier(name) {\r\n    return /^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(name);\r\n}\n\n/* END TYPES */\r\nvar Cacher = /** @class */ (function () {\r\n    function Cacher(cache) {\r\n        this.cache = cache;\r\n    }\r\n    Cacher.prototype.define = function (key, val) {\r\n        this.cache[key] = val;\r\n    };\r\n    Cacher.prototype.get = function (key) {\r\n        // string | array.\r\n        // TODO: allow array of keys to look down\r\n        // TODO: create plugin to allow referencing helpers, filters with dot notation\r\n        return this.cache[key];\r\n    };\r\n    Cacher.prototype.remove = function (key) {\r\n        delete this.cache[key];\r\n    };\r\n    Cacher.prototype.reset = function () {\r\n        this.cache = {};\r\n    };\r\n    Cacher.prototype.load = function (cacheObj) {\r\n        // TODO: this will err with deep objects and `storage` or `plugins` keys.\r\n        // Update Feb 26: EDITED so it shouldn't err\r\n        copyProps(this.cache, cacheObj, true);\r\n    };\r\n    return Cacher;\r\n}());\n\nfunction setPrototypeOf(obj, proto) {\r\n    if (Object.setPrototypeOf) {\r\n        Object.setPrototypeOf(obj, proto);\r\n    }\r\n    else {\r\n        obj.__proto__ = proto;\r\n    }\r\n}\r\nfunction SqrlErr(message) {\r\n    var err = new Error(message);\r\n    setPrototypeOf(err, SqrlErr.prototype);\r\n    return err;\r\n}\r\nSqrlErr.prototype = Object.create(Error.prototype, {\r\n    name: { value: 'Squirrelly Error', enumerable: false }\r\n});\r\n// TODO: Class transpilation adds a lot to the bundle size\r\nfunction ParseErr(message, str, indx) {\r\n    var whitespace = str.slice(0, indx).split(/\\n/);\r\n    var lineNo = whitespace.length;\r\n    var colNo = whitespace[lineNo - 1].length + 1;\r\n    message +=\r\n        ' at line ' +\r\n            lineNo +\r\n            ' col ' +\r\n            colNo +\r\n            ':\\n\\n' +\r\n            '  ' +\r\n            str.split(/\\n/)[lineNo - 1] +\r\n            '\\n' +\r\n            '  ' +\r\n            Array(colNo).join(' ') +\r\n            '^';\r\n    throw SqrlErr(message);\r\n}\n\n/* END TYPES */\r\nvar asyncRegExp = /^async +/;\r\nvar templateLitReg = /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})*}|(?!\\${)[^\\\\`])*`/g;\r\nvar singleQuoteReg = /'(?:\\\\[\\s\\w\"'\\\\`]|[^\\n\\r'\\\\])*?'/g;\r\nvar doubleQuoteReg = /\"(?:\\\\[\\s\\w\"'\\\\`]|[^\\n\\r\"\\\\])*?\"/g;\r\nvar specialCharsReg = /[.*+\\-?^${}()|[\\]\\\\]/g;\r\nfunction escapeRegExp(string) {\r\n    // From MDN\r\n    return specialCharsReg.test(string)\r\n        ? string.replace(specialCharsReg, '\\\\$&') // $& means the whole matched string\r\n        : string;\r\n}\r\nfunction parse(str, env) {\r\n    /* Adding for EJS compatibility */\r\n    if (env.rmWhitespace) {\r\n        // Code taken directly from EJS\r\n        // Have to use two separate replaces here as `^` and `$` operators don't\r\n        // work well with `\\r` and empty lines don't work well with the `m` flag.\r\n        // Essentially, this replaces the whitespace at the beginning and end of\r\n        // each line and removes multiple newlines.\r\n        str = str.replace(/[\\r\\n]+/g, '\\n').replace(/^\\s+|\\s+$/gm, '');\r\n    }\r\n    /* End rmWhitespace option */\r\n    templateLitReg.lastIndex = 0;\r\n    singleQuoteReg.lastIndex = 0;\r\n    doubleQuoteReg.lastIndex = 0;\r\n    var envPrefixes = env.prefixes;\r\n    var prefixes = [\r\n        envPrefixes.h,\r\n        envPrefixes.b,\r\n        envPrefixes.i,\r\n        envPrefixes.r,\r\n        envPrefixes.c,\r\n        envPrefixes.e\r\n    ].reduce(function (accumulator, prefix) {\r\n        if (accumulator && prefix) {\r\n            return accumulator + '|' + escapeRegExp(prefix);\r\n        }\r\n        else if (prefix) {\r\n            // accumulator is empty\r\n            return escapeRegExp(prefix);\r\n        }\r\n        else {\r\n            // prefix and accumulator are both empty strings\r\n            return accumulator;\r\n        }\r\n    }, '');\r\n    var parseCloseReg = new RegExp('([|()]|=>)|' + // powerchars\r\n        '(\\'|\"|`|\\\\/\\\\*)|\\\\s*((\\\\/)?(-|_)?' + // comments, strings\r\n        escapeRegExp(env.tags[1]) +\r\n        ')', 'g');\r\n    var tagOpenReg = new RegExp('([^]*?)' + escapeRegExp(env.tags[0]) + '(-|_)?\\\\s*(' + prefixes + ')?\\\\s*', 'g');\r\n    var startInd = 0;\r\n    var trimNextLeftWs = false;\r\n    function parseTag(tagOpenIndex, currentType) {\r\n        var currentObj = { f: [] };\r\n        var numParens = 0;\r\n        var currentAttribute = 'c'; // default - Valid values: 'c'=content, 'f'=filter, 'fp'=filter params, 'p'=param, 'n'=name\r\n        if (currentType === 'h' || currentType === 'b' || currentType === 'c') {\r\n            currentAttribute = 'n';\r\n        }\r\n        else if (currentType === 'r') {\r\n            currentObj.raw = true;\r\n            currentType = 'i';\r\n        }\r\n        function addAttrValue(indx) {\r\n            var valUnprocessed = str.slice(startInd, indx);\r\n            // console.log(valUnprocessed)\r\n            var val = valUnprocessed.trim();\r\n            if (currentAttribute === 'f') {\r\n                if (val === 'safe') {\r\n                    currentObj.raw = true;\r\n                }\r\n                else {\r\n                    if (env.async && asyncRegExp.test(val)) {\r\n                        val = val.replace(asyncRegExp, '');\r\n                        currentObj.f.push([val, '', true]);\r\n                    }\r\n                    else {\r\n                        currentObj.f.push([val, '']);\r\n                    }\r\n                }\r\n            }\r\n            else if (currentAttribute === 'fp') {\r\n                currentObj.f[currentObj.f.length - 1][1] += val;\r\n            }\r\n            else if (currentAttribute === 'err') {\r\n                if (val) {\r\n                    var found = valUnprocessed.search(/\\S/);\r\n                    ParseErr('invalid syntax', str, startInd + found);\r\n                }\r\n            }\r\n            else {\r\n                // if (currentObj[currentAttribute]) { // TODO make sure no errs\r\n                //   currentObj[currentAttribute] += val\r\n                // } else {\r\n                currentObj[currentAttribute] = val;\r\n                // }\r\n            }\r\n            startInd = indx + 1;\r\n        }\r\n        parseCloseReg.lastIndex = startInd;\r\n        var m;\r\n        // tslint:disable-next-line:no-conditional-assignment\r\n        while ((m = parseCloseReg.exec(str)) !== null) {\r\n            var char = m[1];\r\n            var punctuator = m[2];\r\n            var tagClose = m[3];\r\n            var slash = m[4];\r\n            var wsControl = m[5];\r\n            var i = m.index;\r\n            if (char) {\r\n                // Power character\r\n                if (char === '(') {\r\n                    if (numParens === 0) {\r\n                        if (currentAttribute === 'n') {\r\n                            addAttrValue(i);\r\n                            currentAttribute = 'p';\r\n                        }\r\n                        else if (currentAttribute === 'f') {\r\n                            addAttrValue(i);\r\n                            currentAttribute = 'fp';\r\n                        }\r\n                    }\r\n                    numParens++;\r\n                }\r\n                else if (char === ')') {\r\n                    numParens--;\r\n                    if (numParens === 0 && currentAttribute !== 'c') {\r\n                        // Then it's closing a filter, block, or helper\r\n                        addAttrValue(i);\r\n                        currentAttribute = 'err'; // Reset the current attribute\r\n                    }\r\n                }\r\n                else if (numParens === 0 && char === '|') {\r\n                    addAttrValue(i); // this should actually always be whitespace or empty\r\n                    currentAttribute = 'f';\r\n                }\r\n                else if (char === '=>') {\r\n                    addAttrValue(i);\r\n                    startInd += 1; // this is 2 chars\r\n                    currentAttribute = 'res';\r\n                }\r\n            }\r\n            else if (punctuator) {\r\n                if (punctuator === '/*') {\r\n                    var commentCloseInd = str.indexOf('*/', parseCloseReg.lastIndex);\r\n                    if (commentCloseInd === -1) {\r\n                        ParseErr('unclosed comment', str, m.index);\r\n                    }\r\n                    parseCloseReg.lastIndex = commentCloseInd + 2; // since */ is 2 characters, and we're using indexOf rather than a RegExp\r\n                }\r\n                else if (punctuator === \"'\") {\r\n                    singleQuoteReg.lastIndex = m.index;\r\n                    var singleQuoteMatch = singleQuoteReg.exec(str);\r\n                    if (singleQuoteMatch) {\r\n                        parseCloseReg.lastIndex = singleQuoteReg.lastIndex;\r\n                    }\r\n                    else {\r\n                        ParseErr('unclosed string', str, m.index);\r\n                    }\r\n                }\r\n                else if (punctuator === '\"') {\r\n                    doubleQuoteReg.lastIndex = m.index;\r\n                    var doubleQuoteMatch = doubleQuoteReg.exec(str);\r\n                    if (doubleQuoteMatch) {\r\n                        parseCloseReg.lastIndex = doubleQuoteReg.lastIndex;\r\n                    }\r\n                    else {\r\n                        ParseErr('unclosed string', str, m.index);\r\n                    }\r\n                }\r\n                else if (punctuator === '`') {\r\n                    templateLitReg.lastIndex = m.index;\r\n                    var templateLitMatch = templateLitReg.exec(str);\r\n                    if (templateLitMatch) {\r\n                        parseCloseReg.lastIndex = templateLitReg.lastIndex;\r\n                    }\r\n                    else {\r\n                        ParseErr('unclosed string', str, m.index);\r\n                    }\r\n                }\r\n            }\r\n            else if (tagClose) {\r\n                addAttrValue(i);\r\n                startInd = i + m[0].length;\r\n                tagOpenReg.lastIndex = startInd;\r\n                // console.log('tagClose: ' + startInd)\r\n                trimNextLeftWs = wsControl;\r\n                if (slash && currentType === 'h') {\r\n                    currentType = 's';\r\n                } // TODO throw err\r\n                currentObj.t = currentType;\r\n                return currentObj;\r\n            }\r\n        }\r\n        ParseErr('unclosed tag', str, tagOpenIndex);\r\n        return currentObj; // To prevent TypeScript from erroring\r\n    }\r\n    function parseContext(parentObj, firstParse) {\r\n        parentObj.b = []; // assume there will be blocks // TODO: perf optimize this\r\n        parentObj.d = [];\r\n        var lastBlock = false;\r\n        var buffer = [];\r\n        function pushString(strng, shouldTrimRightOfString) {\r\n            if (strng) {\r\n                // if string is truthy it must be of type 'string'\r\n                // TODO: benchmark replace( /(\\\\|')/g, '\\\\$1')\r\n                strng = trimWS(strng, env, trimNextLeftWs, // this will only be false on the first str, the next ones will be null or undefined\r\n                shouldTrimRightOfString);\r\n                if (strng) {\r\n                    // replace \\ with \\\\, ' with \\'\r\n                    strng = strng.replace(/\\\\|'/g, '\\\\$&').replace(/\\r\\n|\\n|\\r/g, '\\\\n');\r\n                    // we're going to convert all CRLF to LF so it doesn't take more than one replace\r\n                    buffer.push(strng);\r\n                }\r\n            }\r\n        }\r\n        // Random TODO: parentObj.b doesn't need to have t: #\r\n        var tagOpenMatch;\r\n        // tslint:disable-next-line:no-conditional-assignment\r\n        while ((tagOpenMatch = tagOpenReg.exec(str)) !== null) {\r\n            var precedingString = tagOpenMatch[1];\r\n            var shouldTrimRightPrecedingString = tagOpenMatch[2];\r\n            var prefix = tagOpenMatch[3] || '';\r\n            var prefixType;\r\n            for (var key in envPrefixes) {\r\n                if (envPrefixes[key] === prefix) {\r\n                    prefixType = key;\r\n                    break;\r\n                }\r\n            }\r\n            pushString(precedingString, shouldTrimRightPrecedingString);\r\n            startInd = tagOpenMatch.index + tagOpenMatch[0].length;\r\n            if (!prefixType) {\r\n                ParseErr('unrecognized tag type: ' + prefix, str, startInd);\r\n            }\r\n            var currentObj = parseTag(tagOpenMatch.index, prefixType);\r\n            // ===== NOW ADD THE OBJECT TO OUR BUFFER =====\r\n            var currentType = currentObj.t;\r\n            if (currentType === 'h') {\r\n                var hName = currentObj.n || '';\r\n                if (env.async && asyncRegExp.test(hName)) {\r\n                    currentObj.a = true;\r\n                    currentObj.n = hName.replace(asyncRegExp, '');\r\n                }\r\n                currentObj = parseContext(currentObj); // currentObj is the parent object\r\n                buffer.push(currentObj);\r\n            }\r\n            else if (currentType === 'c') {\r\n                // tag close\r\n                if (parentObj.n === currentObj.n) {\r\n                    if (lastBlock) {\r\n                        // If there's a previous block\r\n                        lastBlock.d = buffer;\r\n                        parentObj.b.push(lastBlock);\r\n                    }\r\n                    else {\r\n                        parentObj.d = buffer;\r\n                    }\r\n                    // console.log('parentObj: ' + JSON.stringify(parentObj))\r\n                    return parentObj;\r\n                }\r\n                else {\r\n                    ParseErr(\"Helper start and end don't match\", str, tagOpenMatch.index + tagOpenMatch[0].length);\r\n                }\r\n            }\r\n            else if (currentType === 'b') {\r\n                // block\r\n                // TODO: make sure async stuff inside blocks are recognized\r\n                if (lastBlock) {\r\n                    // If there's a previous block\r\n                    lastBlock.d = buffer;\r\n                    parentObj.b.push(lastBlock);\r\n                }\r\n                else {\r\n                    parentObj.d = buffer;\r\n                }\r\n                var blockName = currentObj.n || '';\r\n                if (env.async && asyncRegExp.test(blockName)) {\r\n                    currentObj.a = true;\r\n                    currentObj.n = blockName.replace(asyncRegExp, '');\r\n                }\r\n                lastBlock = currentObj; // Set the 'lastBlock' object to the value of the current block\r\n                buffer = [];\r\n            }\r\n            else if (currentType === 's') {\r\n                var selfClosingHName = currentObj.n || '';\r\n                if (env.async && asyncRegExp.test(selfClosingHName)) {\r\n                    currentObj.a = true;\r\n                    currentObj.n = selfClosingHName.replace(asyncRegExp, '');\r\n                }\r\n                buffer.push(currentObj);\r\n            }\r\n            else {\r\n                buffer.push(currentObj);\r\n            }\r\n            // ===== DONE ADDING OBJECT TO BUFFER =====\r\n        }\r\n        if (firstParse) {\r\n            pushString(str.slice(startInd, str.length), false);\r\n            parentObj.d = buffer;\r\n        }\r\n        else {\r\n            throw SqrlErr('unclosed helper \"' + parentObj.n + '\"');\r\n            // It should have returned by now\r\n        }\r\n        return parentObj;\r\n    }\r\n    var parseResult = parseContext({ f: [] }, true);\r\n    // console.log(JSON.stringify(parseResult))\r\n    if (env.plugins) {\r\n        for (var i = 0; i < env.plugins.length; i++) {\r\n            var plugin = env.plugins[i];\r\n            if (plugin.processAST) {\r\n                parseResult.d = plugin.processAST(parseResult.d, env);\r\n            }\r\n        }\r\n    }\r\n    return parseResult.d; // Parse the very outside context\r\n}\n\n// import SqrlErr from './err'\r\n/* END TYPES */\r\nfunction compileToString(str, env) {\r\n    var buffer = parse(str, env);\r\n    var res = \"var tR='';\" +\r\n        (env.useWith ? 'with(' + env.varName + '||{}){' : '') +\r\n        compileScope(buffer, env) +\r\n        'if(cb){cb(null,tR)} return tR' +\r\n        (env.useWith ? '}' : '');\r\n    if (env.plugins) {\r\n        for (var i = 0; i < env.plugins.length; i++) {\r\n            var plugin = env.plugins[i];\r\n            if (plugin.processFnString) {\r\n                res = plugin.processFnString(res, env);\r\n            }\r\n        }\r\n    }\r\n    return res;\r\n    // TODO: is `return cb()` necessary, or could we just do `cb()`\r\n}\r\nfunction filter(str, filters) {\r\n    for (var i = 0; i < filters.length; i++) {\r\n        var name = filters[i][0];\r\n        var params = filters[i][1];\r\n        var isFilterAsync = filters[i][2];\r\n        // if (isFilterAsync && !env.async) {\r\n        //   throw SqrlErr(\"Async filter '\" + name + \"' in non-async env\")\r\n        // }\r\n        // Let the JS compiler do this, compile() will catch it\r\n        str = (isFilterAsync ? 'await ' : '') + \"c.l('F','\" + name + \"')(\" + str;\r\n        if (params) {\r\n            str += ',' + params;\r\n        }\r\n        str += ')';\r\n    }\r\n    return str;\r\n}\r\n// TODO: Use type intersections for TemplateObject, etc.\r\n// so I don't have to make properties mandatory\r\nfunction compileHelper(env, res, descendants, params, isAsync, name) {\r\n    var ret = '{exec:' +\r\n        (isAsync ? 'async ' : '') +\r\n        compileScopeIntoFunction(descendants, res, env) +\r\n        ',params:[' +\r\n        params +\r\n        ']';\r\n    if (name) {\r\n        ret += \",name:'\" + name + \"'\";\r\n    }\r\n    if (isAsync) {\r\n        ret += ',async:true';\r\n    }\r\n    ret += '}';\r\n    return ret;\r\n}\r\nfunction compileBlocks(blocks, env) {\r\n    var ret = '[';\r\n    for (var i = 0; i < blocks.length; i++) {\r\n        var block = blocks[i];\r\n        ret += compileHelper(env, block.res || '', block.d, block.p || '', block.a, block.n);\r\n        if (i < blocks.length) {\r\n            ret += ',';\r\n        }\r\n    }\r\n    ret += ']';\r\n    return ret;\r\n}\r\nfunction compileScopeIntoFunction(buff, res, env) {\r\n    return 'function(' + res + \"){var tR='';\" + compileScope(buff, env) + 'return tR}';\r\n}\r\nfunction compileScope(buff, env) {\r\n    var i = 0;\r\n    var buffLength = buff.length;\r\n    var returnStr = '';\r\n    for (i; i < buffLength; i++) {\r\n        var currentBlock = buff[i];\r\n        if (typeof currentBlock === 'string') {\r\n            var str = currentBlock;\r\n            // we know string exists\r\n            returnStr += \"tR+='\" + str + \"';\";\r\n        }\r\n        else {\r\n            var type = currentBlock.t; // h, s, e, i\r\n            var content = currentBlock.c || '';\r\n            var filters = currentBlock.f;\r\n            var name = currentBlock.n || '';\r\n            var params = currentBlock.p || '';\r\n            var res = currentBlock.res || '';\r\n            var blocks = currentBlock.b;\r\n            var isAsync = !!currentBlock.a; // !! is to booleanize it\r\n            // if (isAsync && !env.async) {\r\n            //   throw SqrlErr(\"Async block or helper '\" + name + \"' in non-async env\")\r\n            // }\r\n            // Let compiler do this\r\n            if (type === 'i') {\r\n                if (env.defaultFilter) {\r\n                    content = \"c.l('F','\" + env.defaultFilter + \"')(\" + content + ')';\r\n                }\r\n                var filtered = filter(content, filters);\r\n                if (!currentBlock.raw && env.autoEscape) {\r\n                    filtered = \"c.l('F','e')(\" + filtered + ')';\r\n                }\r\n                returnStr += 'tR+=' + filtered + ';';\r\n                // reference\r\n            }\r\n            else if (type === 'h') {\r\n                // helper\r\n                if (env.storage.nativeHelpers.get(name)) {\r\n                    returnStr += env.storage.nativeHelpers.get(name)(currentBlock, env);\r\n                }\r\n                else {\r\n                    var helperReturn = (isAsync ? 'await ' : '') +\r\n                        \"c.l('H','\" +\r\n                        name +\r\n                        \"')(\" +\r\n                        compileHelper(env, res, currentBlock.d, params, isAsync);\r\n                    if (blocks) {\r\n                        helperReturn += ',' + compileBlocks(blocks, env);\r\n                    }\r\n                    else {\r\n                        helperReturn += ',[]';\r\n                    }\r\n                    helperReturn += ',c)';\r\n                    returnStr += 'tR+=' + filter(helperReturn, filters) + ';';\r\n                }\r\n            }\r\n            else if (type === 's') {\r\n                // self-closing helper\r\n                returnStr +=\r\n                    'tR+=' +\r\n                        filter((isAsync ? 'await ' : '') + \"c.l('H','\" + name + \"')({params:[\" + params + ']},[],c)', filters) +\r\n                        ';';\r\n            }\r\n            else if (type === 'e') {\r\n                // execute\r\n                returnStr += content + '\\n';\r\n            }\r\n        }\r\n    }\r\n    return returnStr;\r\n}\n\nfunction errWithBlocksOrFilters(name, blocks, // false means don't check\r\nfilters, native) {\r\n    if (blocks && blocks.length > 0) {\r\n        throw SqrlErr((native ? 'Native' : '') + \"Helper '\" + name + \"' doesn't accept blocks\");\r\n    }\r\n    if (filters && filters.length > 0) {\r\n        throw SqrlErr((native ? 'Native' : '') + \"Helper '\" + name + \"' doesn't accept filters\");\r\n    }\r\n}\r\n/* ASYNC LOOP FNs */\r\nfunction asyncArrLoop(arr, index, fn, res, cb) {\r\n    fn(arr[index], index).then(function (val) {\r\n        res += val;\r\n        if (index === arr.length - 1) {\r\n            cb(res);\r\n        }\r\n        else {\r\n            asyncArrLoop(arr, index + 1, fn, res, cb);\r\n        }\r\n    });\r\n}\r\nfunction asyncObjLoop(obj, keys, index, fn, res, cb) {\r\n    fn(keys[index], obj[keys[index]]).then(function (val) {\r\n        res += val;\r\n        if (index === keys.length - 1) {\r\n            cb(res);\r\n        }\r\n        else {\r\n            asyncObjLoop(obj, keys, index + 1, fn, res, cb);\r\n        }\r\n    });\r\n}\r\nvar escMap = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;',\r\n};\r\nfunction replaceChar(s) {\r\n    return escMap[s];\r\n}\r\nfunction XMLEscape(str) {\r\n    // To deal with XSS. Based on Escape implementations of Mustache.JS and Marko, then customized.\r\n    var newStr = String(str);\r\n    if (/[&<>\"']/.test(newStr)) {\r\n        return newStr.replace(/[&<>\"']/g, replaceChar);\r\n    }\r\n    else {\r\n        return newStr;\r\n    }\r\n}\n\n/* END TYPES */\r\nvar templates = new Cacher({});\r\n/* ASYNC LOOP FNs */\r\nvar helpers = new Cacher({\r\n    each: function (content, blocks) {\r\n        var res = '';\r\n        var arr = content.params[0];\r\n        errWithBlocksOrFilters('each', blocks, false);\r\n        if (content.async) {\r\n            return new Promise(function (resolve) {\r\n                asyncArrLoop(arr, 0, content.exec, res, resolve);\r\n            });\r\n        }\r\n        else {\r\n            for (var i = 0; i < arr.length; i++) {\r\n                res += content.exec(arr[i], i);\r\n            }\r\n            return res;\r\n        }\r\n    },\r\n    foreach: function (content, blocks) {\r\n        var obj = content.params[0];\r\n        errWithBlocksOrFilters('foreach', blocks, false);\r\n        if (content.async) {\r\n            return new Promise(function (resolve) {\r\n                asyncObjLoop(obj, Object.keys(obj), 0, content.exec, '', resolve);\r\n            });\r\n        }\r\n        else {\r\n            var res = '';\r\n            for (var key in obj) {\r\n                if (!hasOwnProp(obj, key))\r\n                    continue;\r\n                res += content.exec(key, obj[key]); // todo: check on order\r\n            }\r\n            return res;\r\n        }\r\n    },\r\n    include: function (content, blocks, config) {\r\n        errWithBlocksOrFilters('include', blocks, false);\r\n        var template = config.storage.templates.get(content.params[0]);\r\n        if (!template) {\r\n            throw SqrlErr('Could not fetch template \"' + content.params[0] + '\"');\r\n        }\r\n        return template(content.params[1], config);\r\n    },\r\n    extends: function (content, blocks, config) {\r\n        var data = content.params[1] || {};\r\n        data.content = content.exec();\r\n        for (var i = 0; i < blocks.length; i++) {\r\n            var currentBlock = blocks[i];\r\n            data[currentBlock.name] = currentBlock.exec();\r\n        }\r\n        var template = config.storage.templates.get(content.params[0]);\r\n        if (!template) {\r\n            throw SqrlErr('Could not fetch template \"' + content.params[0] + '\"');\r\n        }\r\n        return template(data, config);\r\n    },\r\n    useScope: function (content, blocks) {\r\n        errWithBlocksOrFilters('useScope', blocks, false);\r\n        return content.exec(content.params[0]);\r\n    }\r\n});\r\nvar nativeHelpers = new Cacher({\r\n    if: function (buffer, env) {\r\n        errWithBlocksOrFilters('if', false, buffer.f, true);\r\n        var returnStr = 'if(' + buffer.p + '){' + compileScope(buffer.d, env) + '}';\r\n        if (buffer.b) {\r\n            for (var i = 0; i < buffer.b.length; i++) {\r\n                var currentBlock = buffer.b[i];\r\n                if (currentBlock.n === 'else') {\r\n                    returnStr += 'else{' + compileScope(currentBlock.d, env) + '}';\r\n                }\r\n                else if (currentBlock.n === 'elif') {\r\n                    returnStr += 'else if(' + currentBlock.p + '){' + compileScope(currentBlock.d, env) + '}';\r\n                }\r\n            }\r\n        }\r\n        return returnStr;\r\n    },\r\n    try: function (buffer, env) {\r\n        errWithBlocksOrFilters('try', false, buffer.f, true);\r\n        if (!buffer.b || buffer.b.length !== 1 || buffer.b[0].n !== 'catch') {\r\n            throw SqrlErr(\"native helper 'try' only accepts 1 block, 'catch'\");\r\n        }\r\n        var returnStr = 'try{' + compileScope(buffer.d, env) + '}';\r\n        var currentBlock = buffer.b[0];\r\n        returnStr +=\r\n            'catch' +\r\n                (currentBlock.res ? '(' + currentBlock.res + ')' : '') +\r\n                '{' +\r\n                compileScope(currentBlock.d, env) +\r\n                '}';\r\n        return returnStr;\r\n    },\r\n    block: function (buffer, env) {\r\n        errWithBlocksOrFilters('block', buffer.b, buffer.f, true);\r\n        var returnStr = 'if(!' +\r\n            env.varName +\r\n            '[' +\r\n            buffer.p +\r\n            ']){tR+=(' +\r\n            compileScopeIntoFunction(buffer.d, '', env) +\r\n            ')()}else{tR+=' +\r\n            env.varName +\r\n            '[' +\r\n            buffer.p +\r\n            ']}';\r\n        return returnStr;\r\n    }\r\n});\r\nvar filters = new Cacher({ e: XMLEscape });\n\n/* END TYPES */\r\nvar defaultConfig = {\r\n    varName: 'it',\r\n    autoTrim: [false, 'nl'],\r\n    autoEscape: true,\r\n    defaultFilter: false,\r\n    tags: ['{{', '}}'],\r\n    l: function (container, name) {\r\n        if (container === 'H') {\r\n            var hRet = this.storage.helpers.get(name);\r\n            if (hRet) {\r\n                return hRet;\r\n            }\r\n            else {\r\n                throw SqrlErr(\"Can't find helper '\" + name + \"'\");\r\n            }\r\n        }\r\n        else if (container === 'F') {\r\n            var fRet = this.storage.filters.get(name);\r\n            if (fRet) {\r\n                return fRet;\r\n            }\r\n            else {\r\n                throw SqrlErr(\"Can't find filter '\" + name + \"'\");\r\n            }\r\n        }\r\n    },\r\n    async: false,\r\n    storage: {\r\n        helpers: helpers,\r\n        nativeHelpers: nativeHelpers,\r\n        filters: filters,\r\n        templates: templates\r\n    },\r\n    prefixes: {\r\n        h: '@',\r\n        b: '#',\r\n        i: '',\r\n        r: '*',\r\n        c: '/',\r\n        e: '!'\r\n    },\r\n    cache: false,\r\n    plugins: [],\r\n    useWith: false\r\n};\r\ndefaultConfig.l.bind(defaultConfig);\r\nfunction getConfig(override, baseConfig) {\r\n    // TODO: run more tests on this\r\n    var res = {}; // Linked\r\n    copyProps(res, defaultConfig); // Creates deep clone of res, 1 layer deep\r\n    if (baseConfig) {\r\n        copyProps(res, baseConfig);\r\n    }\r\n    if (override) {\r\n        copyProps(res, override);\r\n    }\r\n    res.l.bind(res);\r\n    return res;\r\n}\n\n/* END TYPES */\r\nfunction compile(str, env) {\r\n    var options = getConfig(env || {});\r\n    var ctor = Function; // constructor\r\n    /* ASYNC HANDLING */\r\n    // The below code is modified from mde/ejs. All credit should go to them.\r\n    if (options.async) {\r\n        // Have to use generated function for this, since in envs without support,\r\n        // it breaks in parsing\r\n        if (asyncFunc) {\r\n            ctor = asyncFunc;\r\n        }\r\n        else {\r\n            throw SqrlErr(\"This environment doesn't support async/await\");\r\n        }\r\n    }\r\n    if (options.varName && isValidJSIdentifier(options.varName) === false) {\r\n        throw SqrlErr(\"options.varName must be a valid JS identifier\");\r\n    }\r\n    /* END ASYNC HANDLING */\r\n    try {\r\n        return new ctor(options.varName, 'c', // SqrlConfig\r\n        'cb', // optional callback\r\n        compileToString(str, options)); // eslint-disable-line no-new-func\r\n    }\r\n    catch (e) {\r\n        if (e instanceof SyntaxError) {\r\n            throw SqrlErr('Bad template syntax\\n\\n' +\r\n                e.message +\r\n                '\\n' +\r\n                Array(e.message.length + 1).join('=') +\r\n                '\\n' +\r\n                compileToString(str, options));\r\n        }\r\n        else {\r\n            throw e;\r\n        }\r\n    }\r\n}\n\nvar fs = require('fs');\r\nvar path = require('path');\r\nvar _BOM = /^\\uFEFF/;\r\n/* END TYPES */\r\n/**\r\n * Get the path to the included file from the parent file path and the\r\n * specified path.\r\n *\r\n * @param {String}  name       specified path\r\n * @param {String}  parentfile parent file path\r\n * @param {Boolean} [isDir=false] whether parent file path is a directory\r\n * @return {String}\r\n */\r\nfunction getWholeFilePath(name, parentfile, isDirectory) {\r\n    var includePath = path.resolve(isDirectory ? parentfile : path.dirname(parentfile), // returns directory the parent file is in\r\n    name // file\r\n    );\r\n    var ext = path.extname(name);\r\n    if (!ext) {\r\n        includePath += '.sqrl';\r\n    }\r\n    return includePath;\r\n}\r\n/**\r\n * Get the path to the included file by Options\r\n *\r\n * @param  {String}  path    specified path\r\n * @param  {Options} options compilation options\r\n * @return {String}\r\n */\r\nfunction getPath(path, options) {\r\n    var includePath;\r\n    var filePath;\r\n    var views = options.views;\r\n    var match = /^[A-Za-z]+:\\\\|^\\//.exec(path);\r\n    // Abs path\r\n    if (match && match.length) {\r\n        includePath = getWholeFilePath(path.replace(/^\\/*/, ''), options.root || '/', true);\r\n    }\r\n    else {\r\n        // Relative paths\r\n        // Look relative to a passed filename first\r\n        if (options.filename) {\r\n            filePath = getWholeFilePath(path, options.filename);\r\n            if (fs.existsSync(filePath)) {\r\n                includePath = filePath;\r\n            }\r\n        }\r\n        // Then look in any views directories\r\n        if (!includePath) {\r\n            if (Array.isArray(views) &&\r\n                views.some(function (v) {\r\n                    filePath = getWholeFilePath(path, v, true);\r\n                    return fs.existsSync(filePath);\r\n                })) {\r\n                includePath = filePath;\r\n            }\r\n        }\r\n        if (!includePath) {\r\n            throw SqrlErr('Could not find the include file \"' + path + '\"');\r\n        }\r\n    }\r\n    return includePath;\r\n}\r\nfunction readFile(filePath) {\r\n    return fs\r\n        .readFileSync(filePath)\r\n        .toString()\r\n        .replace(_BOM, ''); // TODO: is replacing BOM's necessary?\r\n}\r\nfunction loadFile(filePath, options) {\r\n    var config = getConfig(options);\r\n    var template = readFile(filePath);\r\n    try {\r\n        var compiledTemplate = compile(template, config);\r\n        config.storage.templates.define(config.filename, compiledTemplate);\r\n        return compiledTemplate;\r\n    }\r\n    catch (e) {\r\n        throw SqrlErr('Loading file: ' + filePath + ' failed');\r\n    }\r\n}\n\n// express is set like: app.engine('html', require('squirrelly').renderFile)\r\n/* END TYPES */\r\n/**\r\n * Get the template from a string or a file, either compiled on-the-fly or\r\n * read from cache (if enabled), and cache the template if needed.\r\n *\r\n * If `options.cache` is true, this function reads the file from\r\n * `options.filename` so it must be set prior to calling this function.\r\n *\r\n * @param {Options} options   compilation options\r\n * @return {(TemplateFunction|ClientFunction)}\r\n * Depending on the value of `options.client`, either type might be returned.\r\n * @static\r\n */\r\nfunction handleCache(options) {\r\n    var filename = options.filename;\r\n    if (options.cache) {\r\n        var func = options.storage.templates.get(filename);\r\n        if (func) {\r\n            return func;\r\n        }\r\n        else {\r\n            return loadFile(filename, options);\r\n        }\r\n    }\r\n    return compile(readFile(filename), options);\r\n}\r\n/**\r\n * Try calling handleCache with the given options and data and call the\r\n * callback with the result. If an error occurs, call the callback with\r\n * the error. Used by renderFile().\r\n *\r\n * @param {Options} options    compilation options\r\n * @param {Object} data        template data\r\n * @param {RenderFileCallback} cb callback\r\n * @static\r\n */\r\nfunction tryHandleCache(options, data, cb) {\r\n    var result;\r\n    if (!cb) {\r\n        // No callback, try returning a promise\r\n        if (typeof promiseImpl === 'function') {\r\n            return new promiseImpl(function (resolve, reject) {\r\n                try {\r\n                    result = handleCache(options)(data, options);\r\n                    resolve(result);\r\n                }\r\n                catch (err) {\r\n                    reject(err);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            throw SqrlErr(\"Please provide a callback function, this env doesn't support Promises\");\r\n        }\r\n    }\r\n    else {\r\n        try {\r\n            handleCache(options)(data, options, cb);\r\n        }\r\n        catch (err) {\r\n            return cb(err);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Get the template function.\r\n *\r\n * If `options.cache` is `true`, then the template is cached.\r\n *\r\n * @param {String}  path    path for the specified file\r\n * @param {Options} options compilation options\r\n * @return {(TemplateFunction|ClientFunction)}\r\n * Depending on the value of `options.client`, either type might be returned\r\n * @static\r\n */\r\nfunction includeFile(path, options) {\r\n    // the below creates a new options object, using the parent filepath of the old options object and the path\r\n    var newFileOptions = getConfig({ filename: getPath(path, options) }, options);\r\n    // TODO: make sure properties are currectly copied over\r\n    return handleCache(newFileOptions);\r\n}\r\nfunction renderFile(filename, data, cb) {\r\n    data = data || {};\r\n    var Config = getConfig(data);\r\n    // TODO: make sure above doesn't error. We do set filename down below\r\n    Config.filename = filename; // Make sure filename is right\r\n    return tryHandleCache(Config, data, cb);\r\n}\n\n/* END TYPES */\r\nfunction includeFileHelper(content, blocks, config) {\r\n    if (blocks && blocks.length > 0) {\r\n        throw SqrlErr(\"Helper 'includeFile' doesn't accept blocks\");\r\n    }\r\n    return includeFile(content.params[0], config)(content.params[1], config);\r\n}\r\nfunction extendsFileHelper(content, blocks, config) {\r\n    var data = content.params[1] || {};\r\n    data.content = content.exec();\r\n    for (var i = 0; i < blocks.length; i++) {\r\n        var currentBlock = blocks[i];\r\n        data[currentBlock.name] = currentBlock.exec();\r\n    }\r\n    return includeFile(content.params[0], config)(data, config);\r\n}\n\n/* END TYPES */\r\nfunction handleCache$1(template, options) {\r\n    var templateFunc;\r\n    if (options.cache && options.name && options.storage.templates.get(options.name)) {\r\n        return options.storage.templates.get(options.name);\r\n    }\r\n    if (typeof template === 'function') {\r\n        templateFunc = template;\r\n    }\r\n    else {\r\n        templateFunc = compile(template, options);\r\n    }\r\n    if (options.cache && options.name) {\r\n        options.storage.templates.define(options.name, templateFunc);\r\n    }\r\n    return templateFunc;\r\n}\r\nfunction render(template, data, env, cb) {\r\n    var options = getConfig(env || {});\r\n    if (options.async) {\r\n        var result;\r\n        if (!cb) {\r\n            // No callback, try returning a promise\r\n            if (typeof promiseImpl === 'function') {\r\n                return new promiseImpl(function (resolve, reject) {\r\n                    try {\r\n                        result = handleCache$1(template, options)(data, options);\r\n                        resolve(result);\r\n                    }\r\n                    catch (err) {\r\n                        reject(err);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                throw SqrlErr(\"Please provide a callback function, this env doesn't support Promises\");\r\n            }\r\n        }\r\n        else {\r\n            try {\r\n                handleCache$1(template, options)(data, options, cb);\r\n            }\r\n            catch (err) {\r\n                return cb(err);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        return handleCache$1(template, options)(data, options);\r\n    }\r\n}\n\n/* Export file stuff */\r\n/* END TYPES */\r\nhelpers.define('includeFile', includeFileHelper);\r\nhelpers.define('extendsFile', extendsFileHelper);\n\nexport { renderFile as __express, compile, compileScope, compileScopeIntoFunction, compileToString, defaultConfig, filters, getConfig, helpers, loadFile, nativeHelpers, parse, render, renderFile, templates };\n//# sourceMappingURL=squirrelly.es.js.map\n","import { AdvectView } from \"../AdvectView\";\r\nimport { AdvectPlugin } from \"../plugins\";\r\nimport snarkdown from 'snarkdown';\r\nimport { create, cssomSheet } from \"twind\";\r\nimport AdvectBase from \"../AdvectBase\";\r\nimport * as sqrl from 'squirrelly'\r\nimport { $window } from \"../utils\";\r\n\r\n\r\n\r\nconst advectCorePlugin: AdvectPlugin = {\r\n    priorityOrAfter: 0,\r\n    priority: 0,\r\n    name: \"advect.core\",\r\n    component_connected(el: AdvectBase) {\r\n        const sheet = cssomSheet({ target: el.$style })\r\n        const { tw } = create({ sheet });\r\n        el.extras.tw_render = () =>{\r\n          \r\n            tw(el.className)\r\n            el.shadowRoot?.querySelectorAll('[class]').forEach(_el => {\r\n                tw(_el.className)\r\n            })\r\n            el.querySelectorAll('[class]').forEach(_el => {\r\n                tw(_el.className)\r\n            })\r\n        }\r\n        el.extras.tw_render()\r\n    },\r\n    component_mutated(el: AdvectBase, mutation: MutationRecord) {\r\n        // @ts-ignore\r\n        if (mutation.attributeName === \"class\" && mutation.target === el) {\r\n            el?.extras?.tw_render()\r\n        }\r\n        // @ts-ignore\r\n        if (mutation.target.matches && !(mutation.target as HTMLElement)?.matches(\"[no-tw]\")) {\r\n            el?.extras?.tw_render()\r\n        }\r\n    },\r\n    view_rendered(el: AdvectView) {\r\n        el?.extras?.tw_render()\r\n    },\r\n    // ref_found(ref: HTMLElement) {\r\n\r\n    // },\r\n\r\n    // component_connected(el: AdvectBase) {\r\n\r\n    // },\r\n\r\n    // component_mutated(el: AdvectBase, mutation: MutationRecord) {\r\n\r\n    // },\r\n    // view_rendered(el: AdvectView) {\r\n\r\n    // },\r\n    renderers: {\r\n        \"markdown\": function ({ template, ctx }) {\r\n            ctx = ctx ?? {};\r\n            const fields = Object.keys(ctx);\r\n            ctx.___fields = fields;\r\n            ctx.___hasFields = fields.length - 1 > 0;\r\n            const rendered = sqrl.render(template, ctx) as string;\r\n            const parsed = rendered.split('\\n').map((line) => {\r\n                // remove leading whitespace, newlines, and tabs\r\n                line = line.replace(/^\\s+/, '');\r\n                // remove trailing whitespace, newlines, and tabs\r\n                line = line.replace(/\\s+$/, '');\r\n                return line;\r\n            }).join('\\n');\r\n\r\n            return snarkdown(parsed);\r\n        },\r\n        \"sqrl\": function ({ template, ctx }) {\r\n            if (!ctx ) return \"\";\r\n            const fields = Object.keys(ctx);\r\n            ctx.___fields = fields;\r\n            ctx.___hasFields = fields.length - 1 > 0;\r\n            const clean = template.replace('&gt;', '>').replace('&lt;', '<');   \r\n            let rendered = \"\";\r\n            try {\r\n                rendered = sqrl.render(clean, ctx);\r\n                return rendered;\r\n            } catch (e) {   \r\n                 const str = JSON.stringify((e as Error).stack);\r\n                 $window.test = str;\r\n                 if (str.includes(\"    at each (\") && str.includes(\"563:31\")) {\r\n                    // that wieird error that happens when you use each\r\n                 }else{\r\n                    console.error(e);\r\n                 }\r\n\r\n            }\r\n            return rendered;\r\n           \r\n        }\r\n    },\r\n  \r\n\r\n}\r\n\r\nexport default advectCorePlugin;","\r\nexport class AdvMutationEvent extends CustomEvent<MutationRecord>{\r\n    constructor(mutation: MutationRecord){\r\n      super(\"adv:mutation\", {\r\n        bubbles: false,\r\n        composed: true,\r\n        cancelable: false,\r\n        detail: mutation\r\n      });\r\n    }\r\n  }\r\n  ","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","import { AdvMutationEvent } from \"./AdvMutationEvent\";\r\nimport { AdvectView } from \"./AdvectView\";\r\nimport settings from \"./settings\";\r\nimport { $window, AsyncFunction } from \"./utils\";\r\nimport Advect from \"./advect\";\r\nimport { createStore } from \"zustand/vanilla\";\r\n\r\n\r\n/**\r\n * This is the base cass for All advect elements\r\n * \r\n */\r\nexport default class AdvectBase extends HTMLElement {\r\n    extras: Record<string, any> = {};\r\n    /**\r\n     *  Lib\r\n     */\r\n    get adv() {\r\n        return $window.advect as Advect\r\n    }\r\n\r\n    static $shadow_mode: \"open\" | \"close\";\r\n    /**\r\n     * \r\n     */\r\n    $style: CSSStyleSheet = new CSSStyleSheet();\r\n    /**\r\n     * \r\n     */\r\n\r\n    /**\r\n     * \r\n     */\r\n    #internals: ElementInternals;\r\n    /**\r\n     * \r\n     */\r\n    get internals() {\r\n        return this.#internals;\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    $scopes_scripts: { id: string, script: string }[] = [];\r\n\r\n    /**\r\n     * getter for the shadowRoot or the element itself\r\n     */\r\n    get refs(): Record<string, Element> {\r\n        return this.allRefs.reduce((p, c) => {\r\n            const id = c.dataset.ogid as string;\r\n            return { ...p, [id]: c }\r\n        }, {});\r\n    }\r\n    get views(): Record<string, Element> {\r\n        return this.view_list.reduce((p, c) => {\r\n            const id = c.dataset.ogid as string;\r\n            return { ...p, [id]: c }\r\n        }, {});\r\n    }\r\n\r\n    get view_list(): AdvectView[] {\r\n        return this.allRefs.filter( r => r.tagName == 'ADV-VIEW') as AdvectView[];\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    get allRefs() {\r\n        return [...(this.shadowRoot?.querySelectorAll(`[id]`) ?? [])] as HTMLElement[];\r\n    }\r\n\r\n\r\n    /**\r\n   * inital content of the element\r\n   */\r\n    initalContent?: Node;\r\n\r\n    /**\r\n     * \r\n     */\r\n    _scope: Record<string, any> = new Map();\r\n    /**\r\n     * \r\n     */\r\n    scope = new Proxy({}, {\r\n        get: (_, name: string) => {\r\n            return this._scope[name];\r\n        },\r\n        set: (_, name: string, value: any) => {\r\n            this._scope[name] = value;\r\n            return true;\r\n        },\r\n        ownKeys: () => {\r\n            return [...this._scope.keys()];\r\n        }\r\n    });\r\n    /**\r\n     * \r\n     * @param scope \r\n     */\r\n    mergeScope(scope: Record<string, any>) {\r\n        for (let key in scope) {\r\n            // @ts-ignore\r\n            this._scope[key] = scope[key];\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Adds a cssStyleSheet to the element\r\n     * @param styles \r\n     */\r\n    mergeStyles(styles: CSSStyleSheet[]) {\r\n        this.shadowRoot?.adoptedStyleSheets.push(...styles);\r\n    }\r\n\r\n\r\n    /**\r\n     * A helper for the dataset that when set calls render\r\n     */\r\n    data: Record<string, any> = new Proxy({},{\r\n        get: (_, name:string) => {\r\n            return this.dataset[name];\r\n        },\r\n        set: (_, name:string, value) => {\r\n            this.dataset[name] = value;\r\n            this.render();\r\n            return true;\r\n        }\r\n    });\r\n    /**\r\n     * attributeChanged function for the element\r\n     */\r\n    onAttr: (name: string, oldValue: string, newValue: string) => void = () => { };\r\n    /**\r\n     * attributeChangedCallback for the element\r\n     * @param name the name of the attribute\r\n     * @param oldValue the old value of the attribute\r\n     * @param newValue the new value of the attribute\r\n     */\r\n    attributeChangedCallback(name: string, oldValue: string, newValue: string) {\r\n        if (this.onAttr) {\r\n            this.onAttr(name, oldValue, newValue);\r\n        }\r\n    }\r\n    /**\r\n     *  This ts to id the references so they can be referenced in the scope\r\n     */\r\n    setupRefs() {\r\n        this.shadowRoot?.querySelectorAll(\"[id]\").forEach((ref) => {\r\n            const new_id = `${this.nodeName.toLowerCase()}-${ref.id}`;\r\n            try {\r\n                (ref as HTMLElement).dataset.ogid = ref.id;\r\n            } catch (e) { console.warn(\"Could not set ogid\", e); }\r\n            ref.id = new_id;\r\n        });\r\n    }\r\n    /**\r\n     * Sets up event listeners for refs (ie elements with ids)\r\n     */\r\n    hookRefs(): void {\r\n\r\n        // light dom event handlers just 'this' element\r\n        this\r\n            .getAttributeNames()\r\n            .filter((name) => name.startsWith(\"on\"))\r\n            .forEach((name) => {\r\n                const attr_val = this.getAttribute(name) ?? \"\";\r\n                if (name.toLowerCase() === \"onmutate\") {\r\n                    this.onMutate = (_event) => new AsyncFunction(\"self\", \"event\", \"scope\", attr_val)\r\n                        (this, _event, this.scope);\r\n                    return;\r\n                }\r\n                // @ts-expect-error assigning event handlers by name nothing to see here\r\n                this[name] = (_event) => new AsyncFunction(\"self\", \"event\", \"scope\", attr_val)\r\n                    (this, _event, this.scope);\r\n            });\r\n        // refs\r\n        this.shadowRoot?.querySelectorAll(\"[id]\").forEach((ref) => {\r\n            // @ts-ignore refs have a reference to this\r\n            this.adv.plugins.ref_found(ref);\r\n            ref.addEventListener('adv:mutation', (_event) => {\r\n                this.mutate((_event as AdvMutationEvent).detail);\r\n            });\r\n\r\n            this.observer.observe(ref, { attributes: true, childList: true, subtree: true });\r\n\r\n            const event_attrs = ref\r\n                .getAttributeNames()\r\n                .filter((name) => name.startsWith(\"on\"));\r\n            // todo maybe make this a setting, I could see this causing unnecessary rendering\r\n\r\n\r\n            event_attrs.forEach((name) => {\r\n                const attr_val = ref.getAttribute(name) ?? \"\";\r\n\r\n                if (name.toLowerCase() === \"onmutate\") {\r\n                    ref.addEventListener('adv:mutation', (_event) => {\r\n                        new AsyncFunction(\"self\", \"event\", \"el\", \"refs\", \"data\", \"scope\", \"createStore\", attr_val)\r\n                            (this, _event, ref, this.refs, this.data, this.scope, createStore);\r\n                    });\r\n\r\n\r\n                } else {\r\n                    // @ts-expect-error assigning event handlers by name nothing to see here\r\n                    ref[name] = (_event) => {\r\n                        new AsyncFunction(\"self\", \"event\", \"el\", \"refs\", \"data\", \"scope\",  \"createStore\", attr_val)\r\n                            (this, _event, ref, this.refs, this.data, this.scope, createStore);\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (!ref.matches(settings.refs_no_inital_load.join(\",\"))) {\r\n                ref.dispatchEvent(new Event(\"load\", { bubbles: false, cancelable: false }));\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Merges the scope and styles of the views in the shadowRoot\r\n     * and sets the parent of the view to this element\r\n     */\r\n    hookViews(): void {\r\n        this.shadowRoot?.querySelectorAll('adv-view').forEach(v => {\r\n            const view = v as AdvectView;\r\n            view?.mergeScope(this._scope);\r\n            view?.mergeStyles(this.shadowRoot?.adoptedStyleSheets ?? [])\r\n            // @ts-ignore\r\n            view.parent = this;\r\n        });\r\n    }\r\n    /**\r\n     * Generates the scope for the element\r\n     * all scripts besides the one designated as the module script are run in the scope of the element\r\n     * these scripts\r\n     * @returns \r\n     */\r\n    generateScope() {\r\n        type ScopeResolution = Record<string, any> | Function | typeof AsyncFunction;\r\n        const scopeFunctions: Promise<ScopeResolution>[] = this.$scopes_scripts\r\n            .map(({ script }) => {\r\n                return new AsyncFunction\r\n                    (\"self\", \"refs\", \"data\", \"istates\", \"createStore\", script) // @ts-ignore Internals.states DOES exist\r\n                    (this, this.refs, this.data, this.internals?.states, createStore);\r\n            });\r\n        return Promise.all(scopeFunctions).then(async scopes => {\r\n            for (let scope of scopes) {\r\n                if (scope && scope.constructor.name === \"AsyncFunction\") {\r\n                    this.mergeScope(await (scope as typeof AsyncFunction)());\r\n                }\r\n                if (scope instanceof Function) {\r\n                    this.mergeScope(scope());\r\n                } else {\r\n                    this.mergeScope(scope);\r\n                }\r\n            }\r\n\r\n        });\r\n        // TODO Add addtionals to scope\r\n    }\r\n    static _observer = new MutationObserver((mutations) => {\r\n        mutations.forEach((mutation) => {\r\n            const event = new AdvMutationEvent(mutation);\r\n            mutation.target.dispatchEvent(event);\r\n        });\r\n    })\r\n    get observer() {\r\n        // @ts-ignore\r\n        return this.constructor._observer;\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    constructor() {\r\n        super();\r\n        // @ts-ignore\r\n        this.#internals = this.attachInternals();\r\n        this.generateScope = this.generateScope.bind(this);\r\n        this.addEventListener(\"adv:mutation\", (event) => {\r\n            const mutation = (event as AdvMutationEvent).detail;\r\n            this.mutate(mutation);\r\n        });\r\n        this.style.display = \"block\";\r\n\r\n    }\r\n\r\n    onConnect?: () => void;\r\n    connectedCallback() {\r\n        //@ts-ignore\r\n        this.constructor.ic++;\r\n\r\n        this.initalContent = this.cloneNode(true);\r\n        this.attachShadow({ mode: \"open\" });\r\n        this.mergeStyles([this.$style]);\r\n\r\n        // observe all changes on the light dom\r\n        this.observer?.observe(this, {\r\n            attributes: true,\r\n            characterData: true,\r\n            childList: true,\r\n            subtree: true\r\n        });\r\n        this.observer?.observe(this.shadowRoot, {\r\n            childList: true,\r\n            subtree: true\r\n        });\r\n        this.shadowRoot?.querySelectorAll('style').forEach(style => {\r\n            const css = new CSSStyleSheet();\r\n            css.replaceSync(style.textContent ?? \"\");\r\n            this.mergeStyles([css]);\r\n        });\r\n        this.adv.plugins.component_connected(this);\r\n    }\r\n\r\n    onMutate?: (mutation: MutationRecord) => void;\r\n    mutate(mutation: MutationRecord) {\r\n        if (this.onMutate) {\r\n            this.onMutate(mutation);\r\n        }\r\n        this.adv.plugins.component_mutated(this, mutation);\r\n\r\n    };\r\n    onDisconnect?: () => void;\r\n    disconnectdCallback() {\r\n        if (this.onDisconnect) {\r\n            this.onDisconnect();\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param selector \r\n     * @param base \r\n     * @param __Closest \r\n     * @returns \r\n     */\r\n    closestElement(\r\n        selector: string,      // selector like in .closest()\r\n        base = this,   // extra functionality to skip a parent\r\n        // @ts-ignore\r\n        __Closest = (el, found = el && el.closest(selector)) =>\r\n            !el || el === document || el === window\r\n                ? null // standard .closest() returns null for non-found selectors also\r\n                : found\r\n                    ? found // found a selector INside this element\r\n                    : __Closest(el.getRootNode().host) // recursion!! break out to parent DOM\r\n    ) {\r\n        return __Closest(base);\r\n    }\r\n\r\n    onPluginDiscovered() {\r\n        // TODO onPluginDiscovered\r\n    }\r\n\r\n    /**\r\n     * Stubs to be used in adv-view, adv-of, and adv-for, adv-if \r\n     * @param _ \r\n     */\r\n  async render(_?: Record<string, any>) {\r\n    return \"\";\r\n    }\r\n}","import { $window } from \"./utils\";\r\nimport AdvectBase from \"./AdvectBase\";\r\n\r\n/**\r\n * TODO weakrefs for refs\r\n * Im thinking we can use this css and add a 'state' property that can be set on the element\r\n */\r\n\r\n/**\r\n * Base class for all Advect Elements\r\n * this class is modified based on a given template element\r\n * the following properties are set after the template has been processed\r\n  * CustomElement.prototype.$template = template;\r\n  * CustomElement.prototype.$ref_ids = refs_ids;\r\n  * CustomElement.prototype.$slots_names = slots_names;\r\n  * CustomElement.constructor.observedAttributes = attrs.map(attr => attr.name.toLocaleLowerCase());\r\n  * CustomElement.constructor.$shadow_mode = shadow_mode;\r\n  * CustomElement.constructor.$use_internals = use_internals;\r\n */\r\nexport class AdvectElement extends AdvectBase{\r\n  /**\r\n   * shadow mode can be open or closed\r\n   */\r\n  // @ts-ignore shadow mode\r\n  static $shadow_mode: \"open\" | \"close\";\r\n  /**\r\n   * getter for *.constructor.shadow_mode\r\n   */\r\n  // @ts-ignore shadow mode\r\n  get shadow_mode() { return this.constructor.$shadow_mode }\r\n  /**\r\n   * instance counter\r\n   */\r\n  // @ts-ignore Templating\r\n  static ic = 0;\r\n  /**\r\n   * getter for *.constructor.ic\r\n   */\r\n  // @ts-ignore instance counter\r\n  get ic() { return this.constructor.ic; }\r\n  /**\r\n   * signature for the element. This will be used to give refs unique ids\r\n   */\r\n  get signature() { return `${this.nodeName.toLocaleLowerCase()}-${this.dataset[\"instance\"]}`; }\r\n  /**\r\n   * getter for the shadowRoot or the element itself\r\n   */\r\n\r\n\r\n  #slots = new Proxy({}, {\r\n    get: (_, name: string) => {\r\n      if (name === \"default\") {\r\n        return this.shadowRoot?.querySelector('slot:not([name])');\r\n      }\r\n      const query = `slot[name=\"${name}\"]`;\r\n      return this.shadowRoot?.querySelector(query);\r\n    },\r\n    ownKeys: () => {\r\n      return [...this.shadowRoot?.querySelectorAll('slot') ?? []].map(el => el.name);\r\n    }\r\n  });\r\n\r\n  get slots() {\r\n    return this.#slots;\r\n  }\r\n  \r\n  /**\r\n   * constructor for the element\r\n   * sets the instance counter\r\n   * sets the inital content\r\n   */\r\n  constructor() {\r\n    super();\r\n \r\n  }\r\n\r\n  /**\r\n   * connectedCallback for the element\r\n   * super.connectedCallback() must be called in the child class\r\n   * sets the inital content\r\n   */\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n    // @ts-ignore instance counter\r\n    /// TODO validate use shadow at somepoint\r\n    if (!this.shadowRoot)  return;\r\n    // @ts-ignore template defined in build\r\n    this.shadowRoot.innerHTML = this.$template.innerHTML;\r\n    this.setupRefs();\r\n    this.generateScope().then(() => {\r\n      this.hookViews();\r\n      this.hookRefs()\r\n      if (this.onConnect) {\r\n        this.onConnect();\r\n      }\r\n      this.adv.plugins.component_connected(this);\r\n\r\n    });\r\n  }\r\n}\r\n\r\n$window.AdvectElement = AdvectElement;\r\n","import { $window, AdvectRenderFunction, RenderDescriptor } from \"./utils\";\r\nimport AdvectBase from \"./AdvectBase\";\r\nimport settings from \"./settings\";\r\n/**\r\n * A Utility element for rendering  templates\r\n */\r\nexport class AdvectView extends AdvectBase {\r\n\r\n  /**\r\n   * instance counter\r\n   */\r\n  static ic = 0;\r\n  /**\r\n   * getter for *.constructor.ic\r\n   */\r\n  // @ts-ignore instance counter\r\n  get ic() { return this.constructor.ic; }\r\n\r\n\r\n  static observedAttributes = ['data', 'main-script', 'open-tag', 'close-tag', \"render\", 'target'];\r\n\r\n  main_script?: string;\r\n\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n  /**\r\n   * connectedCallback for the element\r\n   * must call super.connectedCallback() if overriden\r\n   */\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n    // @ts-ignore instance counter\r\n    this.constructor.ic++;\r\n    this.render = this.render.bind(this);\r\n    this.shadowRoot?.addEventListener(\"advect:render\", ( _ ) => {\r\n      this.render();\r\n    });\r\n    this.adv.plugins.component_connected(this);\r\n    this.render();\r\n\r\n  }\r\n  async renderTo(target: HTMLElement, data?: Record<string, any>) {\r\n    const markup = await this.render(data, true);\r\n    target.innerHTML = markup;\r\n  }\r\n  async render(newData?: Record<string, any>, markupOnly = false) {\r\n    let renderFunc: AdvectRenderFunction | undefined;\r\n    const renderer_name = this.getAttribute('render')?.valueOf() ?? settings.default_renderer;\r\n       renderFunc = this.adv.plugins.getRenderer(renderer_name);\r\n    // if new data is reactive pretty sure we dont want to just pass that to mustache\r\n    let ctx= {\r\n      ...(newData ?? {}),\r\n      ...this.dataset,\r\n    }\r\n    \r\n\r\n    if (!renderFunc) {\r\n      console.error(`No renderer found for ${renderer_name}`);\r\n      return `No renderer found for ${renderer_name}`;\r\n    }\r\n\r\n    const desc:RenderDescriptor = {\r\n      template: this.innerHTML,\r\n      ctx,\r\n      view: this,\r\n    }\r\n    let rendered = renderFunc(desc);\r\n\r\n    if (markupOnly) {\r\n      return rendered;\r\n    }\r\n\r\n    const wrapper = document.createElement(\"div\");\r\n    wrapper.setAttribute(\"part\", \"content\");\r\n    wrapper.innerHTML = rendered;\r\n    while (this.shadowRoot?.firstChild) {\r\n      this.shadowRoot.removeChild(this.shadowRoot.firstChild);\r\n    }\r\n    this.shadowRoot?.appendChild(wrapper);\r\n    this.setupRefs();\r\n    await this.generateScope()\r\n      .then(() => {\r\n        this.hookRefs();\r\n        this.adv.plugins.view_rendered(this);\r\n      })\r\n      .catch((err) => {\r\n        console.error('advect-view', err);\r\n      });;\r\n    return rendered\r\n  }\r\n}\r\n// add it to the window \r\n// we dont set it to the custom element because we want to be able to use it in the plugins\r\n$window.AdvectView = AdvectView;\r\n\r\n","const AdvectDebug =  {\r\n    logging: true,\r\n    log: (message: string) => {\r\n        if (AdvectDebug.logging) console.log(`[AdvDebug] ${message}`);\r\n    },\r\n    error: (message: string) => {\r\n        if (AdvectDebug.logging)  console.error(`[AdvDebug] ${message}`);\r\n    },\r\n    warn: (message: string) => {\r\n        if (AdvectDebug.logging)  console.warn(`[AdvDebug] ${message}`);\r\n    },\r\n    info: (message: string) => {\r\n        if (AdvectDebug.logging) console.info(`[AdvDebug] ${message}`);\r\n    },\r\n    debug: (message: string) => {\r\n        if (AdvectDebug.logging)  console.debug(`[AdvDebug] ${message}`);\r\n    }\r\n}\r\n\r\nexport default AdvectDebug;","import \"./style.css\";\r\nimport { $window, toModule } from \"./utils\";\r\nimport settings from \"./settings\";\r\nimport { PluginSystem } from \"./plugins\";\r\nimport advectCorePlugin from \"./plugins/advectcore.plugin\";\r\nimport { AdvectElement } from \"./AdvectElement\";\r\nimport { AdvectView } from \"./AdvectView\";\r\nimport AdvectDebug from \"./debug\";\r\n\r\n/**\r\n * Single dom parser not sure if this is more efficient\r\n */\r\nconst parser = new DOMParser();\r\n\r\n/**\r\n * The main class for the Advect framework\r\n * contains the plugins and the global variables\r\n * and the start function\r\n */\r\nexport default class Advect {\r\n  debug: typeof AdvectDebug = AdvectDebug;\r\n  plugins = new PluginSystem();\r\n  globals: Record<string, any> = [];\r\n  loaded: string[] = [];\r\n  async load(\r\n    url: string,\r\n    method: \"GET\" | \"POST\" | \"PATCH\" = \"GET\",\r\n    headers: Record<string, string> = {\r\n      \"Content-Type\": \"text/html\",\r\n      accept: \"text/html\",\r\n    }\r\n  ) {\r\n    const url_queue = [url];\r\n\r\n    if (this.loaded.includes(url)) {\r\n      console.log(`Already loaded ${url}`);\r\n      return;\r\n    }\r\n    while (url_queue.length > 0) {\r\n      const url = url_queue.pop() as string;\r\n      const result = await fetch(url, { method, headers })\r\n        .then(async (res) => {\r\n          if (res.ok) {\r\n            return {\r\n              text: await res.text(),\r\n              response: res,\r\n              error: null,\r\n            };\r\n          }\r\n        })\r\n        .catch((e) => ({ error: e, text: null }));\r\n      if (result?.error) {\r\n        console.error(`Could not fetch template from ${url}`, result.error);\r\n        continue;\r\n      }\r\n      if (!result?.text) {\r\n        console.warn(`Loaded ${url} but no template found`);\r\n        continue;\r\n      }\r\n      this.loaded.push(url);\r\n\r\n      const doc = parser.parseFromString(result?.text, \"text/html\");\r\n      const src_scripts = doc.querySelectorAll(\r\n        `script[type='${settings.script_tag_type}']`\r\n      );\r\n      \r\n      src_scripts.forEach((script) => {\r\n        const src = script.getAttribute(\"src\");\r\n        if (src && !this.loaded.includes(src)) {\r\n          url_queue.push(src);\r\n        }\r\n      });\r\n      [...doc.querySelectorAll(\"template[id]\")].forEach((_template: Node) => {\r\n        const template = _template as HTMLTemplateElement;\r\n        // TODO maybe make upgrading components a thing\r\n        const existingCustomElement = customElements.get(template.id);\r\n        if (existingCustomElement) {\r\n          console.warn(`Template with id ${template.id} already exists`);\r\n          return;\r\n        }\r\n        if (template.tagName.toLocaleLowerCase() != \"template\") {\r\n          console.error(\"Template tag must be a template tag\");\r\n          return;\r\n        }\r\n        //   console.log(\"Adding template\", template.id);\r\n        this.build(template);\r\n      });\r\n    }\r\n  }\r\n  async build(_template: HTMLTemplateElement | string, register = true) {\r\n    let template: HTMLTemplateElement | null = null;\r\n    let doc: Document;\r\n    if (typeof _template == \"string\") {\r\n      doc = parser.parseFromString(_template, \"text/html\");\r\n      template = doc.querySelector(\"template\") as HTMLTemplateElement;\r\n    } else {\r\n      template = _template;\r\n      doc = parser.parseFromString(template.outerHTML, \"text/html\");\r\n    }\r\n\r\n    doc = this.plugins.template_loaded(doc);\r\n\r\n    // shadow mode can be open or closed we prefer open\r\n    const shadow_mode =\r\n      template.getAttribute(\"shadow-mode\") ?? settings.default_shadow_mode;\r\n    // use internals can be true or false\r\n    //const use_internals = template.getAttribute('use-internals') == \"true\" || settings.default_use_internals;\r\n    // get all the attributes except core to add to observedAttributes\r\n    const attrs = [...template.attributes].filter(\r\n      (attr) =>\r\n        attr.name != \"adv\" && // no need to copy the adv attribute\r\n        attr.name != \"id\" //switching ids is a bad idea\r\n    );\r\n    // get the main module expects a default export of a class that extends window.AdvectElement\r\n    let mainModule = null;\r\n    // only take 1 script and treat it as a module\r\n    const mainScript = template.content.querySelector('script[type=\"module\"]');\r\n    if (mainScript && mainScript.textContent) {\r\n      template.content.removeChild(mainScript);\r\n      mainModule = await toModule(mainScript.textContent);\r\n    }\r\n    // Other scripts to add to the context\r\n    // e\r\n    const $scope_scripts = [\r\n      ...(doc\r\n        .querySelector(\"template\")\r\n        ?.content.querySelectorAll(\"script:not([type]):not([ignore])\") ?? []),\r\n    ].map((script) => {\r\n      return { id: script.id, script: script.textContent as string };\r\n    });\r\n\r\n    const refs_ids = [...template.content.querySelectorAll(\"[id]\")].map(\r\n      (el) => el.id\r\n    );\r\n    // NOT USED BUT COULD BE\r\n    const slots_names = [...template.content.querySelectorAll(\"slot\")].map(\r\n      (el) => el.name\r\n    );\r\n\r\n    const TemplateClass = class extends (mainModule?.default ??\r\n      class extends AdvectElement {}) {\r\n      $doc: Document = doc;\r\n      $ref_ids: string[] = refs_ids;\r\n      $slots_names: string[] = slots_names;\r\n      $template: HTMLTemplateElement = template as HTMLTemplateElement;\r\n      static $shadow_mode = shadow_mode;\r\n      $scopes_scripts = $scope_scripts;\r\n      static observedAttributes = attrs.map((attr) =>\r\n        attr.name.toLocaleLowerCase()\r\n      );\r\n    };\r\n    const PostPlugin = this.plugins.template_built(TemplateClass);\r\n    if (register) {\r\n      // @ts-ignore valid custom element name\r\n      customElements.define(template.id, PostPlugin);\r\n    }\r\n    return TemplateClass;\r\n  }\r\n\r\n  start() {\r\n    adv.plugins.addPlugin(advectCorePlugin);\r\n    settings.plugins.forEach((plugin) => adv.plugins.addPlugin(plugin));\r\n    // register all templates with adv attribute\r\n    document\r\n      .querySelectorAll(`template[id][${settings.load_tag_type}]`)\r\n      .forEach((template) => {\r\n        this.build(template as HTMLTemplateElement);\r\n      });\r\n    document\r\n      .querySelectorAll(`script[type=\"${settings.script_tag_type}\"][src]`)\r\n      .forEach((script) => {\r\n        const src = script.getAttribute(\"src\");\r\n        if (src) {\r\n          this.load(src);\r\n        }\r\n      });\r\n  }\r\n}\r\n\r\nconst adv = ($window.advect = new Advect());\r\n$window.AdvectElement = AdvectElement;\r\nadv.start();\r\n\r\ncustomElements.define(\"adv-view\", AdvectView);\r\n"],"names":["$window","toModule","script","inject","module","err","scriptFromUrl","url","type","add","onLoad","AsyncFunction","defaultSettings","settings","target","prop","_a","_last_plugin_length","_plugin_list","PluginSystem","__publicField","__privateAdd","name","plugin","r","__privateGet","after","__privateSet","a","b","$new","template","lastResult","doc","plugins","p","el","mut","ref","e","n","t","c","o","l","g","s","u","m","h","i","d","f","$","includes","value","search","join","parts","separator","joinTruthy","tail","array","startIndex","identity","noop","capitalize","hyphenate","evalThunk","context","ensureMaxSize","map","max","isCSSProperty","key","merge","source","target2","escape","className","buildMediaQuery","screen","screen2","feature","cyrb32","index","sortedInsertionIndex","element","low","high","pivot","groupings","rules","startGrouping","endGrouping","isWhitespace","onlyPrefixes","onlyVariants","addRule","directive2","negate","saveRule","buffer","prefix","parseString","token","isVariant","char","dynamic","position2","parseGroupedToken","parseToken","parseGroup","staticsCaches","buildStatics","strings","statics","slowModeIndex","interpolation","staticRules","activeGroupings","parse","tokens","apply2","isFunctionFree","detectFunction","stringify","data","cacheByFactory","directive","factory","cache","params","applyFactory","css","apply","positions","resolve","suffix","properties","declarations","property2","corners","expandEdges","edges","stringifyVariant","selector","variant","stringifyRule","rule","_","__","toColumnsOrRows","x","property","id","propertyValue","themeProperty","section","theme2","themePropertyFallback","alias","handler","display","position","textTransform","textDecoration","fontStyle","fontVariantNumeric","inset","opacityProperty","parseColorComponent","chars","factor","asRGBA","color","opacityProperty2","opacityDefault","withOpacityFallback","kind","transparentTo","reversableEdge","placeHelper","contentPluginFor","gridPlugin","border","borderEdges","edges2","rules2","newRules","edge","transform","gpu","transformXYFunction","edgesPluginFor","padding","margin","minMax","filter","filters","_4","corePlugins","tag","fontSize","screens","center","padding2","paddingFor","createPreflight","coreVariants","STYLE_ELEMENT_ID","getStyleElement","nonce","cssomSheet","offset","voidSheet","mode","report","optional","info","warn","message","strict","silent","noprefix","important","autoprefix","cssText","propertyAlias","cssPropertyAlias","flags","cssPropertyPrefixFlags","cssValuePrefixFlags","ratios","start","end","result","dividend","exponential","stop","unit","linear","divideBy","step","alias2","defaultTheme","breakpoints","flattenColorPalette","colors","resolveContext","handleArbitraryValues","makeThemeResolver","config","deref","theme3","base","defaultValue","keypath","translate","isTranslating","parameters","_2","GROUP_RE","NOT_PREFIX_RE","prepareVariantSelector","decorate","darkMode","variants","applyVariant","translation","not","variant2","_3","responsivePrecedence","seperatorPrecedence","string","atRulePresedence","PRECEDENCES_BY_PSEUDO_CLASS","pseudoPrecedence","pseudoClass","makeVariantPresedenceCalculator","presedence","declarationPropertyPrecedence","stringifyBlock","body","serialize","tagVar","tagVars","stringifyDeclaration","value2","stringify2","atRules","css2","maxPropertyPresedence","numberOfDeclarations","currentSize","waypoints","sum","selectorPart","comma","_5","keyPart","comma2","variantPresedence","layer","sheet","mode2","init","sortedPrecedences","insertedRules","error","sanitize","disabled","enabled","loadMode","COMPONENT_PROPS","configure","hash","activeRule","translateDepth","lastTranslations","process","lastTranslationsIndex","convert","translate2","doTranslate","parentRule","decorate2","serialize2","callback","inject2","idToClassName","inlineDirectiveName","evaluateFunctions","preflight","styles","injected","create","config2","promiseImpl","asyncFunc","hasOwnProp","obj","copyProps","toObj","fromObj","notConfig","trimWS","str","env","wsLeft","wsRight","leftTrim","rightTrim","isValidJSIdentifier","Cacher","val","cacheObj","setPrototypeOf","proto","SqrlErr","ParseErr","indx","whitespace","lineNo","colNo","asyncRegExp","templateLitReg","singleQuoteReg","doubleQuoteReg","specialCharsReg","escapeRegExp","envPrefixes","prefixes","accumulator","parseCloseReg","tagOpenReg","startInd","trimNextLeftWs","parseTag","tagOpenIndex","currentType","currentObj","numParens","currentAttribute","addAttrValue","valUnprocessed","found","punctuator","tagClose","slash","wsControl","commentCloseInd","singleQuoteMatch","doubleQuoteMatch","templateLitMatch","parseContext","parentObj","firstParse","lastBlock","pushString","strng","shouldTrimRightOfString","tagOpenMatch","precedingString","shouldTrimRightPrecedingString","prefixType","hName","blockName","selfClosingHName","parseResult","compileToString","res","compileScope","isFilterAsync","compileHelper","descendants","isAsync","ret","compileScopeIntoFunction","compileBlocks","blocks","block","buff","buffLength","returnStr","currentBlock","content","filtered","helperReturn","errWithBlocksOrFilters","native","asyncArrLoop","arr","fn","cb","asyncObjLoop","keys","escMap","replaceChar","XMLEscape","newStr","templates","helpers","nativeHelpers","defaultConfig","container","hRet","fRet","getConfig","override","baseConfig","compile","options","ctor","fs","path","_BOM","getWholeFilePath","parentfile","isDirectory","includePath","ext","getPath","filePath","views","match","v","readFile","loadFile","compiledTemplate","handleCache","filename","func","includeFile","newFileOptions","includeFileHelper","extendsFileHelper","handleCache$1","templateFunc","render","reject","advectCorePlugin","tw","_el","mutation","_b","_c","ctx","fields","parsed","sqrl.render","line","snarkdown","clean","rendered","AdvMutationEvent","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","define_import_meta_env_default","createStore","_internals","AdvectBase","event","scope","oldValue","newValue","new_id","attr_val","_event","view","scopeFunctions","scopes","style","__Closest","mutations","_slots","AdvectElement","query","AdvectView","markup","newData","markupOnly","renderFunc","renderer_name","desc","wrapper","AdvectDebug","parser","Advect","method","headers","url_queue","src","_template","register","shadow_mode","attrs","attr","mainModule","mainScript","$scope_scripts","refs_ids","slots_names","TemplateClass","PostPlugin","adv"],"mappings":"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","x_google_ignoreList":[3,4,5,6,9]}