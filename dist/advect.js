var Q=Object.defineProperty;var X=(r,e,t)=>e in r?Q(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var w=(r,e,t)=>(X(r,typeof e!="symbol"?e+"":e,t),t),B=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var b=(r,e,t)=>(B(r,e,"read from private field"),t?t.call(r):e.get(r)),L=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},O=(r,e,t,n)=>(B(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);const Y="modulepreload",Z=function(r){return"/"+r},D={},ee=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){const s=document.getElementsByTagName("link");o=Promise.all(t.map(a=>{if(a=Z(a),a in D)return;D[a]=!0;const c=a.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const v=s[d];if(v.href===a&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":Y,c||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),c)return new Promise((d,v)=>{l.addEventListener("load",d),l.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}return o.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};function te(r,e=[]){const t="data:text/javascript;charset=utf-8,"+e.join(`
`)+encodeURIComponent(`${r}`);return ee(()=>import(t),__vite__mapDeps([])).then(n=>n).catch(n=>(console.error(n),null))}const U=window,re=Object.getPrototypeOf(async function(){}).constructor,j={script_tag_type:"text/adv",load_tag_type:"adv",adv_skip:"adv-skip"};var R;class T extends HTMLElement{constructor(){super();w(this,"internals");L(this,R,void 0);w(this,"initalContent");w(this,"data",{});w(this,"attributeChanged",()=>{});this.dataset.instance=this.ic.toString()}get use_internals(){return this.constructor.$use_internals??!1}get shadow_mode(){return this.constructor.$shadow_mode??"open"}get ic(){return this.constructor.ic}get signature(){return`${this.nodeName.toLocaleLowerCase()}-${this.dataset.instance}`}get root(){return this.shadowRoot??this}get refs(){return b(this,R)}attributeChangedCallback(t,n,o){this.attributeChanged&&this.attributeChanged(t,n,o)}connectedCallback(){var o;this.constructor.ic++,this.attachShadow({mode:this.shadow_mode}),this.initalContent=this.cloneNode(!0),(o=this.shadowRoot)==null||o.appendChild(this.$template.content.cloneNode(!0));const t=[...this.root.querySelectorAll("[id]")].map(s=>{const a=`${this.signature}-${s.id}`;try{s.dataset.ogid=s.id}catch(i){console.warn("Could not set ogid",i)}return s.id=a,s.getAttributeNames().filter(i=>i.startsWith("on")).forEach(i=>{const u=s.getAttribute(i)??"";s[i]=l=>(console.log("event",l),new re("self","event","el","refs","data",u)(this,l,s,b(this,R),this.data))}),s});this.use_internals&&(this.internals=this.attachInternals());const n=this;O(this,R,new Proxy({},{get:(s,a)=>{const c=`[data-ogid="${a}"]`;return n.root.querySelector(c)},ownKeys:()=>[...n.root.querySelectorAll("[data-ogid]")].map(s=>s.id)})),t.forEach(s=>{s.dispatchEvent(new Event("load",{bubbles:!1,cancelable:!1}))})}}R=new WeakMap,w(T,"$use_internals"),w(T,"$shadow_mode"),w(T,"ic",0);U.AdvectElement=T;/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var ne=Object.prototype.toString,k=Array.isArray||function(e){return ne.call(e)==="[object Array]"};function M(r){return typeof r=="function"}function se(r){return k(r)?"array":typeof r}function I(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function K(r,e){return r!=null&&typeof r=="object"&&e in r}function ae(r,e){return r!=null&&typeof r!="object"&&r.hasOwnProperty&&r.hasOwnProperty(e)}var oe=RegExp.prototype.test;function ie(r,e){return oe.call(r,e)}var ce=/\S/;function le(r){return!ie(ce,r)}var ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function he(r){return String(r).replace(/[&<>"'`=\/]/g,function(t){return ue[t]})}var de=/\s*/,fe=/\s+/,V=/\s*=/,pe=/\s*\}/,ve=/#|\^|\/|>|\{|&|=|!/;function ge(r,e){if(!r)return[];var t=!1,n=[],o=[],s=[],a=!1,c=!1,i="",u=0;function l(){if(a&&!c)for(;s.length;)delete o[s.pop()];else s=[];a=!1,c=!1}var d,v,F;function H(m){if(typeof m=="string"&&(m=m.split(fe,2)),!k(m)||m.length!==2)throw new Error("Invalid tags: "+m);d=new RegExp(I(m[0])+"\\s*"),v=new RegExp("\\s*"+I(m[1])),F=new RegExp("\\s*"+I("}"+m[1]))}H(e||y.tags);for(var h=new x(r),_,p,g,$,q,C;!h.eos();){if(_=h.pos,g=h.scanUntil(d),g)for(var N=0,J=g.length;N<J;++N)$=g.charAt(N),le($)?(s.push(o.length),i+=$):(c=!0,t=!0,i+=" "),o.push(["text",$,_,_+1]),_+=1,$===`
`&&(l(),i="",u=0,t=!1);if(!h.scan(d))break;if(a=!0,p=h.scan(ve)||"name",h.scan(de),p==="="?(g=h.scanUntil(V),h.scan(V),h.scanUntil(v)):p==="{"?(g=h.scanUntil(F),h.scan(pe),h.scanUntil(v),p="&"):g=h.scanUntil(v),!h.scan(v))throw new Error("Unclosed tag at "+h.pos);if(p==">"?q=[p,g,_,h.pos,i,u,t]:q=[p,g,_,h.pos],u++,o.push(q),p==="#"||p==="^")n.push(q);else if(p==="/"){if(C=n.pop(),!C)throw new Error('Unopened section "'+g+'" at '+_);if(C[1]!==g)throw new Error('Unclosed section "'+C[1]+'" at '+_)}else p==="name"||p==="{"||p==="&"?c=!0:p==="="&&H(g)}if(l(),C=n.pop(),C)throw new Error('Unclosed section "'+C[1]+'" at '+h.pos);return we(ye(o))}function ye(r){for(var e=[],t,n,o=0,s=r.length;o<s;++o)t=r[o],t&&(t[0]==="text"&&n&&n[0]==="text"?(n[1]+=t[1],n[3]=t[3]):(e.push(t),n=t));return e}function we(r){for(var e=[],t=e,n=[],o,s,a=0,c=r.length;a<c;++a)switch(o=r[a],o[0]){case"#":case"^":t.push(o),n.push(o),t=o[4]=[];break;case"/":s=n.pop(),s[5]=o[2],t=n.length>0?n[n.length-1][4]:e;break;default:t.push(o)}return e}function x(r){this.string=r,this.tail=r,this.pos=0}x.prototype.eos=function(){return this.tail===""};x.prototype.scan=function(e){var t=this.tail.match(e);if(!t||t.index!==0)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n};x.prototype.scanUntil=function(e){var t=this.tail.search(e),n;switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n};function A(r,e){this.view=r,this.cache={".":this.view},this.parent=e}A.prototype.push=function(e){return new A(e,this)};A.prototype.lookup=function(e){var t=this.cache,n;if(t.hasOwnProperty(e))n=t[e];else{for(var o=this,s,a,c,i=!1;o;){if(e.indexOf(".")>0)for(s=o.view,a=e.split("."),c=0;s!=null&&c<a.length;)c===a.length-1&&(i=K(s,a[c])||ae(s,a[c])),s=s[a[c++]];else s=o.view[e],i=K(o.view,e);if(i){n=s;break}o=o.parent}t[e]=n}return M(n)&&(n=n.call(this.view)),n};function f(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};f.prototype.parse=function(e,t){var n=this.templateCache,o=e+":"+(t||y.tags).join(":"),s=typeof n<"u",a=s?n.get(o):void 0;return a==null&&(a=ge(e,t),s&&n.set(o,a)),a};f.prototype.render=function(e,t,n,o){var s=this.getConfigTags(o),a=this.parse(e,s),c=t instanceof A?t:new A(t,void 0);return this.renderTokens(a,c,n,e,o)};f.prototype.renderTokens=function(e,t,n,o,s){for(var a="",c,i,u,l=0,d=e.length;l<d;++l)u=void 0,c=e[l],i=c[0],i==="#"?u=this.renderSection(c,t,n,o,s):i==="^"?u=this.renderInverted(c,t,n,o,s):i===">"?u=this.renderPartial(c,t,n,s):i==="&"?u=this.unescapedValue(c,t):i==="name"?u=this.escapedValue(c,t,s):i==="text"&&(u=this.rawValue(c)),u!==void 0&&(a+=u);return a};f.prototype.renderSection=function(e,t,n,o,s){var a=this,c="",i=t.lookup(e[1]);function u(v){return a.render(v,t,n,s)}if(i){if(k(i))for(var l=0,d=i.length;l<d;++l)c+=this.renderTokens(e[4],t.push(i[l]),n,o,s);else if(typeof i=="object"||typeof i=="string"||typeof i=="number")c+=this.renderTokens(e[4],t.push(i),n,o,s);else if(M(i)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");i=i.call(t.view,o.slice(e[3],e[5]),u),i!=null&&(c+=i)}else c+=this.renderTokens(e[4],t,n,o,s);return c}};f.prototype.renderInverted=function(e,t,n,o,s){var a=t.lookup(e[1]);if(!a||k(a)&&a.length===0)return this.renderTokens(e[4],t,n,o,s)};f.prototype.indentPartial=function(e,t,n){for(var o=t.replace(/[^ \t]/g,""),s=e.split(`
`),a=0;a<s.length;a++)s[a].length&&(a>0||!n)&&(s[a]=o+s[a]);return s.join(`
`)};f.prototype.renderPartial=function(e,t,n,o){if(n){var s=this.getConfigTags(o),a=M(n)?n(e[1]):n[e[1]];if(a!=null){var c=e[6],i=e[5],u=e[4],l=a;i==0&&u&&(l=this.indentPartial(a,u,c));var d=this.parse(l,s);return this.renderTokens(d,t,n,l,o)}}};f.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(n!=null)return n};f.prototype.escapedValue=function(e,t,n){var o=this.getConfigEscape(n)||y.escape,s=t.lookup(e[1]);if(s!=null)return typeof s=="number"&&o===y.escape?String(s):o(s)};f.prototype.rawValue=function(e){return e[1]};f.prototype.getConfigTags=function(e){return k(e)?e:e&&typeof e=="object"?e.tags:void 0};f.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!k(e))return e.escape};var y={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(r){P.templateCache=r},get templateCache(){return P.templateCache}},P=new f;y.clearCache=function(){return P.clearCache()};y.parse=function(e,t){return P.parse(e,t)};y.render=function(e,t,n,o){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+se(e)+'" was given as the first argument for mustache#render(template, view, partials)');return P.render(e,t,n,o)};y.escape=he;y.Scanner=x;y.Context=A;y.Writer=f;var E,S;class W extends HTMLElement{constructor(){super();L(this,E,null);w(this,"data",{});L(this,S,void 0);w(this,"initalContent")}get mutationObserver(){return b(this,E)==null&&(O(this,E,new MutationObserver(()=>{this.render()})),b(this,E).observe(this,{childList:!0,subtree:!0})),b(this,E)}get ic(){return this.constructor.ic}get refs(){const t=this;if(b(this,S)===null){const n=new Proxy({},{get:(o,s)=>{var a;return(a=t.shadowRoot)==null?void 0:a.querySelector(`#${this.id}-${s}`)}});O(this,S,n)}return b(this,S)}connectedCallback(){var t;this.constructor.ic++,this.initalContent=this.cloneNode(!0),this.attachShadow({mode:"open"}),(t=this.shadowRoot)==null||t.addEventListener("advect:render",()=>{this.render()}),this.render()}render(t){var o,s;console.log("rendering",t);const n=y.render(this.innerHTML,{...this.dataset,...t??{}});if(this.dataset.autorender!="false"){const a=document.createElement("div");for(a.innerHTML=n;(o=this.shadowRoot)!=null&&o.firstChild;)this.shadowRoot.removeChild(this.shadowRoot.firstChild);U.htmx&&U.htmx.process(a),(s=this.shadowRoot)==null||s.appendChild(a),this.hookRefs()}return n}hookRefs(){var t;this.getAttributeNames().filter(n=>n.startsWith("on")).forEach(n=>{const o=this.getAttribute(n)??"";this[n]=s=>new AsyncFunction("$self","event",o)(this,s)}),(t=this.shadowRoot)==null||t.querySelectorAll("[id]").forEach(n=>{n.getAttributeNames().filter(s=>s.startsWith("on")).forEach(s=>{const a=n.getAttribute(s)??"";return new AsyncFunction("self","event","el","refs","data",a)(this,$event,n,b(this,S),this.data)}),n.dispatchEvent(new Event("load",{bubbles:!1,cancelable:!1}))})}}E=new WeakMap,S=new WeakMap,w(W,"ic",0);U.AdvectView=W;async function G(r,e=!0){const t=r.getAttribute("shadow-mode")??"open",n=r.getAttribute("use-internals")=="true"||!1,o=[...r.attributes].filter(l=>l.name!="adv"&&l.name!="id"&&l.name!="shadow-mode"&&l.name!="use-internals");let s=null;const a=r.content.querySelector("script[main]");a&&a.textContent&&(r.content.removeChild(a),s=await te(a.textContent));const c=[...r.content.querySelectorAll("[id]")].map(l=>l.id),i=[...r.content.querySelectorAll("slot")].map(l=>l.name),u=(s==null?void 0:s.default)??class extends T{};return u.prototype.$template=r,u.prototype.$ref_ids=c,u.prototype.$slots_names=i,u.constructor.observedAttributes=o.map(l=>l.name.toLocaleLowerCase()),u.constructor.$shadow_mode=t,u.constructor.$use_internals=n,e&&customElements.define(r.id,u),u}async function z(r,e="GET",t={"Content-Type":"text/html",accept:"text/html"}){return fetch(r,{method:e,headers:t}).then(n=>n.text()).then(n=>{const s=new DOMParser().parseFromString(n,"text/html");s.querySelectorAll(`script[type='${j.script_tag_type}']`).forEach(c=>{const i=c.getAttribute("src");i&&z(i)}),[...s.querySelectorAll("template[id][adv]")].forEach(c=>{const i=c;if(customElements.get(i.id)){console.warn(`Template with id ${i.id} already exists`);return}if(i.tagName.toLocaleLowerCase()!="template"){console.error("Template tag must be a template tag");return}console.log("Adding template",i.id),G(i)})}).catch(n=>{console.error("Could not parse template from request",n)})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(`template[id][${j.load_tag_type}]`).forEach(r=>{G(r)}),document.querySelectorAll(`script[type="${j.script_tag_type}"][src]`).forEach(r=>{const e=r.getAttribute("src");e&&z(e)})});customElements.define("adv-view",W);
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
